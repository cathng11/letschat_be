(this["webpackJsonptemplate-react"]=this["webpackJsonptemplate-react"]||[]).push([[0],{11:function(e,t,a){"use strict";t.a=a.p+"static/media/ava.7a6a6c54.jpg"},114:function(e,t,a){},118:function(e,t,a){},119:function(e,t,a){},120:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a(1),r=a.n(n),o=a(26),c=a.n(o),i=(a(75),a(76),a(77),a(78),function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,121)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,r=t.getLCP,o=t.getTTFB;a(e),s(e),n(e),r(e),o(e)}))}),l=a(36);c.a.render(Object(s.jsx)(r.a.StrictMode,{children:Object(s.jsx)(l.a,{})}),document.getElementById("root")),i()},36:function(e,t,a){"use strict";var s=a(4),n=a(5),r=a(7),o=a(6),c=a(0),i=(a(79),a(1)),l=a.n(i),d=(a(80),a(2)),u=a.n(d),m=a(8),h=(a(82),function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onClick=function(e){n.props.onShowList(e)},n.state={list:"ListMessages"},n}return Object(n.a)(a,[{key:"render",value:function(){var e=this;return Object(c.jsxs)("div",{className:"row container side-button-list no-gutters",children:[Object(c.jsx)("div",{className:"col-xs-4 col-sm-4 col-md-4 col-lg-4",children:Object(c.jsxs)("button",{className:"side-button btn blue-gradient",onClick:function(){return e.onClick("ListMessages")},children:[Object(c.jsx)("span",{className:"fas fa-bell side-button-icon","aria-hidden":"true"}),"Chats"]})}),Object(c.jsx)("div",{className:"col-xs-4 col-sm-4 col-md-4 col-lg-4",children:Object(c.jsxs)("button",{className:"side-button btn",onClick:function(){return e.onClick("ListGroup")},children:[Object(c.jsx)("span",{className:"fas fa-user-friends side-button-icon","aria-hidden":"true"}),"GroupChat"]})}),Object(c.jsx)("div",{className:"col-xs-4 col-sm-4 col-md-4 col-lg-4",children:Object(c.jsxs)("button",{className:"side-button btn blue-gradient",onClick:function(){return e.onClick("ListContact")},children:[Object(c.jsx)("span",{className:"fas fa-address-book side-button-icon","aria-hidden":"true"}),"Contacts"]})})]})}}]),a}(i.Component)),p=a(11),j=function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onShowInfo=function(){e.props.onShowInfo(e.props.listMessages.Username)},e.loadDefaultImage=function(e){e.target.src=p.a},e}return Object(n.a)(a,[{key:"render",value:function(){var e=this.props,t=e.listMessages,a=e.username;return Object(c.jsx)("div",{children:Object(c.jsxs)("div",{className:"chat-message",onClick:this.onShowInfo,children:[Object(c.jsx)("img",{src:"data:image/*;base64,"+t.Avatar.data,className:"img-responsive avatar",onError:this.loadDefaultImage,alt:"img"}),Object(c.jsxs)("div",{children:[Object(c.jsx)("span",{className:"name-receiver",children:t.Firstname}),Object(c.jsxs)("span",{className:"side-message",children:[a===t.ID_Sender?"You: ":"".concat(t.Firstname,": "),t.Message]})]})]})})}}]),a}(i.Component),f=function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(n.a)(a,[{key:"render",value:function(){var e=this,t=this.props.listMessages,a=t.map((function(a,s){return Object(c.jsx)(j,{index:s,listMessages:t[s],onShowInfo:e.props.onShowInfo,username:e.props.username},a.Username)})),s=Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"img-alt-empty-list mt-5",style:{width:"150px",height:"150px",margin:"auto auto",backgroundImage:'url("https://cdn2.iconfinder.com/data/icons/ios7-inspired-mac-icon-set/1024/messages_5122x.png")',backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"}}),Object(c.jsx)("div",{className:"text-center mt-5",style:{color:"#1a237e"},children:Object(c.jsx)("h4",{children:"Start chatting on LetsChat"})})]});return Object(c.jsx)("div",{children:0===Object.keys(a).length?s:a})}}]),a}(i.Component),b=function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onSearch=function(){n.props.onSearch(n.txtSearch.current.value)},n.onEnterPress=function(e){"Enter"===e.key&&(e.preventDefault(),n.onSearch())},n.txtSearch=Object(i.createRef)(),n}return Object(n.a)(a,[{key:"render",value:function(){return Object(c.jsx)("div",{children:Object(c.jsx)("span",{className:"search-area side-search",children:Object(c.jsxs)("form",{className:"form-inline d-flex justify-content-center md-form form-sm mt-0",children:[Object(c.jsx)("i",{className:"fas fa-search mb-1","aria-hidden":"true",onClick:this.onSearch}),Object(c.jsx)("input",{className:"txtSearchSideBar form-control-sm shadow-none border-bottom-0 ml-3 w-75 mb-0",type:"text",placeholder:"Search","aria-label":"Search",ref:this.txtSearch,onKeyPress:this.onEnterPress})]})})})}}]),a}(i.Component),x=function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onShowInfo=function(){e.props.onShowInfo(e.props.listContact.Username)},e.loadDefaultImage=function(e){e.target.src=p.a},e}return Object(n.a)(a,[{key:"render",value:function(){var e=this.props.listContact;return Object(c.jsxs)("div",{className:"contact",onClick:this.onShowInfo,children:[Object(c.jsx)("img",{src:"data:image/*;base64,"+e.Avatar.data,className:"img-responsive avatar",onError:this.loadDefaultImage,alt:"img"}),Object(c.jsx)("div",{children:Object(c.jsx)("span",{className:"name-receiver",children:""===e.Firstname?e.Username:e.Firstname+" "+e.Lastname})})]})}}]),a}(i.Component),O=function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(n.a)(a,[{key:"render",value:function(){var e=this,t=this.props.listContact,a=t.map((function(a,s){return Object(c.jsx)(x,{index:s,onShowInfo:e.props.onShowInfo,listContact:t[s]},a.Username)})),s=Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"img-alt-empty-list mt-5",style:{width:"150px",height:"150px",margin:"auto auto",backgroundImage:'url("https://cdn4.iconfinder.com/data/icons/communication-179/64/x-18-512.png")',backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"}}),Object(c.jsx)("div",{className:"text-center mt-5",style:{color:"#1a237e"},children:Object(c.jsx)("h4",{children:"Empty contact"})})]});return Object(c.jsx)("div",{children:0===Object.keys(a).length?s:a})}}]),a}(i.Component),v=function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onShowInfoGroup=function(){e.props.onShowInfoGroup(e.props.listGroup.ID_Room)},e.loadDefaultImage=function(e){e.target.src=p.a},e}return Object(n.a)(a,[{key:"render",value:function(){var e=this.props,t=e.listGroup,a=e.username;return Object(c.jsx)("div",{children:Object(c.jsxs)("div",{className:"group",onClick:this.onShowInfoGroup,children:[Object(c.jsx)("img",{src:"data:image/*;base64,"+t.Avatar.data,className:"img-responsive avatar",onError:this.loadDefaultImage,alt:"img"}),Object(c.jsxs)("div",{children:[Object(c.jsx)("span",{className:"name-receiver",children:t.NameRoom}),Object(c.jsxs)("span",{className:"side-message",children:[a===t.ID_Sender?"You: ":""!==t.ID_Sender?"".concat(t.Firstname,": "):"",t.Message]})]})]})})}}]),a}(i.Component),g=function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(n.a)(a,[{key:"render",value:function(){var e=this,t=this.props.listGroup,a=t.map((function(a,s){return Object(c.jsx)(v,{index:s,listGroup:t[s],onShowInfoGroup:e.props.onShowInfoGroup,username:e.props.username},a.ID_Room)})),s=Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"img-alt-empty-list mt-5",style:{width:"150px",height:"150px",margin:"auto auto",backgroundImage:'url("https://i.pinimg.com/originals/3e/e6/dc/3ee6dc8aec204df4af789d7c21548f4a.png")',backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"}}),Object(c.jsx)("div",{className:"text-center mt-5",style:{color:"#1a237e"},children:Object(c.jsx)("h4",{children:"Start chatting on LetsChat"})})]});return Object(c.jsx)("div",{children:0===Object.keys(a).length?s:a})}}]),a}(i.Component),y=(a(83),a(9)),N=a(20),w=(a(39),function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).addMember=function(){n.props.newGrChat?(n.props.addMember(n.props.contact.Username),n.setState({currentColor:"#d0d6e2"})):n.props.openChatRoom(n.props.contact.Username)},n.removeMember=function(){n.props.removeMember(n.props.contact.Username),n.setState({currentColor:"white"})},n.loadDefaultImage=function(e){e.target.src=p.a},n.state={currentColor:"white"},n}return Object(n.a)(a,[{key:"render",value:function(){var e=this.props.contact;return this.props.newGrChat?Object(c.jsxs)("div",{className:"contact create-new",style:{backgroundColor:this.state.currentColor},onClick:this.addMember,"data-dismiss":this.state.dataDismiss,onDoubleClick:this.removeMember,children:[Object(c.jsx)("img",{src:"data:image/*;base64,"+e.Avatar.data,className:"img-responsive avatar",onError:this.loadDefaultImage,alt:"img"}),Object(c.jsxs)("div",{children:[Object(c.jsx)("span",{className:"username-receiver",children:e.Username}),Object(c.jsx)("span",{className:"fullname-receiver grey-text",children:e.Firstname+" "+e.Lastname})]})]}):Object(c.jsxs)("div",{className:"contact create-new",style:{backgroundColor:this.state.currentColor},onClick:this.addMember,"data-dismiss":"modal",children:[Object(c.jsx)("img",{src:"data:image/*;base64,"+e.Avatar.data,className:"img-responsive avatar",onError:this.loadDefaultImage,alt:"img"}),Object(c.jsxs)("div",{children:[Object(c.jsx)("span",{className:"username-receiver",children:e.Username}),Object(c.jsx)("span",{className:"fullname-receiver grey-text",children:e.Firstname+" "+e.Lastname})]})]})}}]),a}(i.Component)),k=function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onSearch=function(e){var t=e.target,a=t.name,s=t.value;n.setState(Object(N.a)({},a,s))},n.loadDefaultImage=function(e){e.target.src=p.a},n.close=function(){n.setState({keyword:""})},n.state={keyword:"",listContact:n.props.listContact,notification:""},n}return Object(n.a)(a,[{key:"render",value:function(){var e=this,t=this.state.listContact;this.state.keyword&&(t=t.filter((function(t){return-1!==t.Username.toLowerCase().indexOf(e.state.keyword)||-1!==t.Lastname.toLowerCase().indexOf(e.state.keyword)||-1!==t.Firstname.toLowerCase().indexOf(e.state.keyword)})));var a=t.map((function(t,a){return Object(c.jsx)(w,{index:a+1,contact:t,newGrChat:!1,openChatRoom:e.props.openChatRoom},t.Username)}));return Object(c.jsx)("div",{children:Object(c.jsx)("div",{className:"modal fade",id:"ModalNewChat",tabIndex:"-1","data-backdrop":"static",role:"dialog","aria-labelledby":"myModalLabel","aria-hidden":"true",children:Object(c.jsx)("div",{className:"modal-dialog",role:"document",children:Object(c.jsxs)("div",{className:"modal-content",children:[Object(c.jsxs)("div",{className:"modal-header text-center",children:[Object(c.jsx)("h4",{className:"modal-title w-100 font-weight-bold",children:"NewChat"}),Object(c.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(c.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(c.jsxs)("div",{className:"modal-body  ",children:[Object(c.jsx)("div",{className:"md-form ",children:Object(c.jsx)("input",{className:"form-control",type:"text",name:"keyword",defaultValue:this.state.keyword,onChange:this.onSearch,placeholder:"Search","aria-label":"Search"})}),Object(c.jsx)("span",{className:"txt-side-bar ml-0",children:"PEOPLE"}),Object(c.jsx)("div",{className:"result-search ml-1 mb-3",children:a})]}),Object(c.jsx)("span",{className:"text-center",children:this.state.notification}),Object(c.jsx)("div",{className:"modal-footer d-flex justify-content-center",children:Object(c.jsx)("button",{className:"btn ",id:"btnClose",onClick:this.close,"data-dismiss":"modal",children:"Cancel"})})]})})})})}}]),a}(i.Component),C=a.p+"static/media/camera.ec8e0077.jpg",S=a(21),I=a.n(S),M=a(19),D=a.n(M),L=function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).resizeFile=function(e){return new Promise((function(t){I.a.imageFileResizer(e,150,150,"JPEG",100,0,(function(e){t(e)}),"base64")}))},n.onChangeFile=function(e){var t=e.target.files[0];n.resizeFile(t).then((function(t){var a=t.slice(t.indexOf(",")+1);n.setState({avaGr:a,file:URL.createObjectURL(e.target.files[0])})}))},n.onSearch=function(e){var t=e.target,a=t.name,s=t.value;n.setState(Object(N.a)({},a,s))},n.addMember=function(e){n.state.listMemberGr.push(e)},n.removeMember=function(e){n.setState({listMemberGr:n.state.listMemberGr.filter((function(t){return t!==e}))})},n.createChatRoom=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.g)(n.generateID(),n.inputFile.current.value,n.state.avaGr).then((function(e){n.setState({id_room:e.id_room})}));case 2:case"end":return e.stop()}}),e)}))),n.addParticipants=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.c)(n.generateID(),n.state.id_room,n.state.listMemberGr).then((function(e){n.setState({notification:e.result,disabled:!0}),"Create group successfully"===n.state.notification&&(n.socket=D()("https://shrouded-castle-36016.herokuapp.com/"),n.socket.emit("creategroup",{id:n.state.id_room,user:n.props.infoUser.Username}))}));case 2:case"end":return e.stop()}}),e)}))),n.createNewGr=function(){var e=Object(m.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=new Set(n.state.listMemberGr),n.setState({listMemberGr:Array.from(new Set(a))}),!(n.inputFile.current.value&&n.state.listMemberGr.length>2)){e.next=10;break}return e.next=5,n.createChatRoom();case 5:if(-1===n.state.id_room||!n.state.id_room){e.next=8;break}return e.next=8,n.addParticipants();case 8:e.next=12;break;case 10:n.inputFile.current.value||n.setState({notification:"Group name can not be empty"}),n.state.listMemberGr.length<2&&n.setState({notification:"Number of members must be more than 2"});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.loadDefaultImage=function(e){e.target.src=C},n.close=function(e){n.setState({file:"",keyword:"",listContact:n.props.listContact,listMemberGr:[],avaGr:"",notification:"",id_room:"",disabled:""}),n.props.onLoad()},n.state={file:"",keyword:"",listContact:n.props.listContact,listMemberGr:[],avaGr:"",notification:"",id_room:"",disabled:""},n.socket=null,n.inputFile=l.a.createRef(),n}return Object(n.a)(a,[{key:"componentDidMount",value:function(){var e=this.state.listMemberGr;e.push(this.props.infoUser.Username),this.setState({listMemberGr:e})}},{key:"randomID",value:function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}},{key:"generateID",value:function(){return this.randomID()+this.randomID()+"-"+this.randomID()}},{key:"render",value:function(){var e=this,t=this.state.listContact;this.state.keyword&&(t=t.filter((function(t){return-1!==t.Username.toLowerCase().indexOf(e.state.keyword)||-1!==t.Lastname.toLowerCase().indexOf(e.state.keyword)||-1!==t.Firstname.toLowerCase().indexOf(e.state.keyword)})));var a=t.map((function(t,a){return Object(c.jsx)(w,{index:a+1,newGrChat:!0,contact:t,addMember:e.addMember,removeMember:e.removeMember},t.Username)}));return Object(c.jsx)("div",{children:Object(c.jsx)("div",{className:"modal fade",id:"ModalNewGroupChat",tabIndex:"-1",role:"dialog","aria-labelledby":"myModalLabel","aria-hidden":"true","data-backdrop":"static",children:Object(c.jsx)("div",{className:"modal-dialog cascading-modal modal-avatar",role:"document",children:Object(c.jsxs)("div",{className:"modal-content",children:[Object(c.jsx)("div",{className:"modal-header mb-0 pb-0",children:Object(c.jsx)("div",{className:"file-field text-center",children:Object(c.jsx)("div",{className:"d-flex justify-content-center mb-1",children:Object(c.jsx)("label",{src:this.state.file,alt:"ava",onError:this.loadDefaultImage,className:"rounded-circle img-responsive modal-title avatar-pic-gr",style:""===this.state.file?{backgroundImage:"url('"+C+"')"}:{backgroundImage:"url('"+this.state.file+"')"},children:Object(c.jsx)("input",{type:"file",style:{display:"none"},onChange:this.onChangeFile})})})})}),Object(c.jsxs)("div",{className:"modal-body  ",children:[Object(c.jsx)("div",{className:"md-form ml-0 mr-0 ",children:Object(c.jsx)("input",{type:"text",placeholder:"Group name",id:"txtEnterGroupName",name:"grName",ref:this.inputFile,className:"enter-group-name form-control form-control-sm text-center ml-0"})}),Object(c.jsx)("h5",{className:"text-center",children:"Add member of group"}),Object(c.jsxs)("div",{className:"md-form ",children:[Object(c.jsx)("div",{className:"md-form ",children:Object(c.jsx)("input",{className:"form-control",type:"text",name:"keyword",defaultValue:this.state.keyword,onChange:this.onSearch,placeholder:"Search","aria-label":"Search"})}),Object(c.jsx)("div",{className:"result-search ml-1 mb-3",children:a})]})]}),Object(c.jsx)("span",{className:"text-center",children:this.state.notification}),Object(c.jsxs)("div",{className:"modal-footer d-flex justify-content-center",children:[Object(c.jsx)("button",{className:"btn blue-gradient",id:"btnDone",disabled:this.state.disabled,onClick:this.createNewGr,children:"Create"}),Object(c.jsx)("button",{className:"btn ",id:"btnClose",onClick:this.close,"data-dismiss":"modal",children:"Cancel"})]})]})})})})}}]),a}(i.Component),F=a(17),P=a.n(F),R=function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onSearch=function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,Object(y.s)(n.inputSearch.current.value).then((function(e){n.setState({resultSearch:e.string,notificationSearch:e.result})})).catch((function(e){return console.log(e)}));case 3:"Phone number is existing"===n.state.notificationSearch&&n.setState({currentForm:"formResult"});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.insertFriend=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.t)(n.generateID(),n.props.infoUser.Username,n.state.resultSearch.Username,P()(new Date,"yyyy-mm-dd HH:MM:ss")).then((function(e){return n.setState({statusFr:e.result})})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)}))),n.sendRequest=function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,Object(y.f)(n.props.infoUser.Username,n.state.resultSearch.Username).then((function(e){"Not friend"===e.result?(n.props.loadHeader(n.state.resultSearch.Username),n.insertFriend()):n.setState({statusFr:e.result})})).catch((function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.onPrevious=function(e){e.preventDefault(),n.setState({currentForm:"formSearch",notificationSearch:""})},n.loadDefaultImage=function(e){e.target.src=p.a},n.close=function(){n.setState({currentForm:"formSearch",notificationSearch:"",statusFr:""})},n.state={currentForm:n.props.currentForm,notificationSearch:"",resultSearch:null,statusFr:""},n.inputSearch=Object(i.createRef)(),n}return Object(n.a)(a,[{key:"randomID",value:function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}},{key:"generateID",value:function(){return this.randomID()+this.randomID()+"-"+this.randomID()}},{key:"componentDidMount",value:function(){this.setState({currentForm:"formSearch",notificationSearch:"",statusFr:""})}},{key:"render",value:function(){var e;if("formSearch"===this.state.currentForm)e=Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{className:"md-form ",children:[Object(c.jsx)("div",{className:"md-form mt-0",children:Object(c.jsx)("input",{type:"tel",id:"phoneSearch",pattern:"[0]{1}[0-9]{9}",className:"form-control text-center",placeholder:"Enter phone number","aria-label":"Search",ref:this.inputSearch})}),Object(c.jsx)("span",{className:"notification-search d-flex justify-content-center",children:this.state.notificationSearch})]}),Object(c.jsxs)("div",{className:"modal-footer d-flex justify-content-center",children:[Object(c.jsx)("button",{className:"btn blue-gradient",id:"btnSearch",onClick:this.onSearch,children:"Search"}),Object(c.jsx)("button",{className:"btn ",id:"btnCancel","data-dismiss":"modal",onClick:this.close,children:"Cancel"})]})]});else{var t=this.state.resultSearch;e=Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"modal-header md-form result-search",children:Object(c.jsx)("img",{src:"data:image/jpg;base64,"+this.state.resultSearch.Avatar.data,alt:"ava",onError:this.loadDefaultImage,className:"rounded-circle avatar-search-user"})}),Object(c.jsx)("h5",{className:"mt-1 text-center",children:Object(c.jsx)("b",{children:""===t.Firstname?t.Username:t.Firstname+" "+t.Lastname})}),Object(c.jsx)("table",{className:"md-form modal-body tbl-info-result-search",children:Object(c.jsxs)("tbody",{children:[Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:"Phone:"}),Object(c.jsx)("td",{children:t.Phone})]}),Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:"Gender:"}),Object(c.jsx)("td",{children:0===t.Gender?"Male":"Female"})]}),Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:"Birthday:"}),Object(c.jsx)("td",{children:t.DateOfBirth})]})]})}),Object(c.jsx)("div",{className:"modal-footer d-flex justify-content-center notification-result-search",children:this.state.statusFr}),Object(c.jsxs)("div",{className:"modal-footer d-flex justify-content-center",children:[Object(c.jsx)("button",{className:"btn",id:"btnPrevious",onClick:this.onPrevious,children:"Previous"}),Object(c.jsx)("button",{className:"btn blue-gradient",id:"btnAdd",onClick:this.sendRequest,children:"Send request"}),Object(c.jsx)("button",{className:"btn ",id:"btnCancel","data-dismiss":"modal",onClick:this.close,children:"Cancel"})]})]})}return Object(c.jsx)("div",{children:Object(c.jsx)("div",{className:"modal fade ",id:"ModalNewContact",tabIndex:"-1",role:"dialog","aria-labelledby":"myModalLabel","aria-hidden":"false","data-backdrop":"static",children:Object(c.jsx)("div",{className:"modal-dialog ",role:"document",children:Object(c.jsxs)("div",{className:"modal-content",children:[Object(c.jsxs)("div",{className:"modal-header text-center",children:[Object(c.jsx)("h4",{className:"modal-title w-100 font-weight-bold",children:"Add New Contact"}),Object(c.jsx)("button",{type:"button",className:"close","data-dismiss":"modal",onClick:this.close,"aria-label":"Close",children:Object(c.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(c.jsx)("div",{children:Object(c.jsx)("form",{className:"modal-body mx-3",children:e})})]})})})})}}]),a}(i.Component),G=function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onShowList=function(e){"ListContact"===e&&(n.setState({DisplayList:"ListContact",modalNewAction:"#ModalNewContact"}),n.getListContact("")),"ListMessages"===e&&(n.setState({DisplayList:"ListMessages",modalNewAction:"#ModalNewChat"}),n.getListMessages("")),"ListGroup"===e&&(n.setState({DisplayList:"ListGroup",modalNewAction:"#ModalNewGroupChat"}),n.getListGroup(""))},n.onShowInfo=function(){var e=Object(m.a)(u.a.mark((function e(t){var a,s,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="ListMessages"===n.state.DisplayList?n.state.listMessages:n.state.listContact,s=n.findInfo(t),r=a[s],e.next=6,n.setState({showInfo:r});case 6:n.props.showInfo(n.state.showInfo);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.findInfo=function(e){var t=-1;return("ListMessages"===n.state.DisplayList?n.state.listMessages:n.state.listContact).forEach((function(a,s){a.Username===e&&(t=s)})),t},n.onShowInfoGroup=function(){var e=Object(m.a)(u.a.mark((function e(t){var a,s,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n.state.listGroup,s=-1,a.forEach((function(e,a){e.ID_Room===t&&(s=a)})),r=a[s],n.props.infoGroup(r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.getListContact=function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.j)([n.props.username,t]).then((function(e){return n.setState({listContact:e})})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.getListMessages=function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.m)([n.props.username,t]).then((function(e){return n.setState({listMessages:e})})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.getListGroup=function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.k)([n.props.username,t]).then((function(e){return n.setState({listGroup:e})})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.onSearch=function(e){n.searchData(e)},n.searchData=function(e){var t=n.state.DisplayList;"ListContact"===t&&n.getListContact(e),"ListMessages"===t&&n.getListMessages(e),"ListGroup"===t&&n.getListGroup(e)},n.setCurrentForm=function(){n.setState({currentForm:"formSearch"})},n.openChatRoom=function(){var e=Object(m.a)(u.a.mark((function e(t){var a,s,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState({DisplayList:"ListContact"});case 2:return a=n.state.listContact,s=n.findInfo(t),r=a[s],e.next=7,n.setState({showInfo:r});case 7:n.props.showInfo(n.state.showInfo);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.loadHeader=function(e){n.props.loadHeader(e)},n.state={DisplayList:"ListMessages",modalNewAction:"#ModalNewChat",showInfo:null,listContact:[],listMessages:[],listGroup:[],currentForm:"formSearch",btnEnabled:!1},n}return Object(n.a)(a,[{key:"componentDidMount",value:function(){this.getListMessages(""),this.getListContact(""),this.getListGroup(""),this.setState({btnEnabled:!0})}},{key:"componentWillReceiveProps",value:function(e){e&&this.searchData("")}},{key:"randomID",value:function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}},{key:"generateID",value:function(){return this.randomID()+this.randomID()+"-"+this.randomID()}},{key:"render",value:function(){var e=this.state,t=e.DisplayList,a=e.listGroup,s=e.listContact,n=e.listMessages;return Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{className:"side-bar",children:[Object(c.jsx)("div",{className:"row search-side-bar",children:Object(c.jsx)("div",{className:"col-xs-12 col-sm-12 col-md-12 col-lg-12",children:Object(c.jsx)(b,{onSearch:this.onSearch})})}),Object(c.jsx)(h,{onShowList:this.onShowList}),Object(c.jsxs)("button",{className:"row btn new-event",disabled:this.state.btnEnabled?"":"disabled","data-toggle":"modal",onClick:this.setCurrentForm,"data-target":this.state.modalNewAction,children:[Object(c.jsx)("i",{className:"fas fa-user-plus"}),"ListMessages"===t?"New chat":"ListContact"===t?"New contact":"New group chat"]}),Object(c.jsxs)("div",{className:"side-bar-content",children:[Object(c.jsx)("div",{className:"list-side-bar-content heading",children:Object(c.jsx)("span",{className:"txt-side-bar",children:"ListMessages"===t?"MY MESSAGES":"ListContact"===t?"MY CONTACT":"MY GROUP"})}),Object(c.jsx)("div",{className:"list-side-bar-content body ",children:"ListMessages"===t?Object(c.jsx)(f,{username:this.props.username,onShowInfo:this.onShowInfo,listMessages:n}):"ListContact"===t?Object(c.jsx)(O,{onShowInfo:this.onShowInfo,listContact:s}):Object(c.jsx)(g,{username:this.props.username,onShowInfoGroup:this.onShowInfoGroup,listGroup:a})})]})]}),Object(c.jsx)(k,{infoUser:this.props.infoUser,listContact:this.state.listContact,openChatRoom:this.openChatRoom},this.generateID()),Object(c.jsx)(L,{infoUser:this.props.infoUser,listContact:this.state.listContact,onLoad:this.props.onLoad},this.generateID()),Object(c.jsx)(R,{currentForm:this.state.currentForm,infoUser:this.props.infoUser,loadHeader:this.loadHeader},this.generateID())]})}}]),a}(i.Component),U=(a(114),function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onSearch=function(e){var t=e.target,a=t.name,s=t.value;n.setState(Object(N.a)({},a,s))},n.addMember=function(e){var t=-1;n.state.members.forEach((function(a,s){a.Username===e&&(t=s)})),-1===t?n.addParticipants(e):alert("This user already exists in group")},n.addParticipants=function(){var e=Object(m.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=[]).push(t),e.next=4,Object(y.c)(n.generateID(),n.props.id,a).then((function(e){n.socket=D()("localhost:3070"),n.socket.emit("updateroom",{id:n.props.id,user:n.props.username})}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.loadDefaultImage=function(e){e.target.src=p.a},n.close=function(){n.setState({keyword:""})},n.state={keyword:"",listContact:n.props.listContact,notification:"",members:n.props.members},n.socket=null,n}return Object(n.a)(a,[{key:"randomID",value:function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}},{key:"generateID",value:function(){return this.randomID()+this.randomID()+"-"+this.randomID()}},{key:"render",value:function(){var e=this,t=this.state.listContact;if(this.state.keyword&&(t=t.filter((function(t){return-1!==t.Username.toLowerCase().indexOf(e.state.keyword)||-1!==t.Lastname.toLowerCase().indexOf(e.state.keyword)||-1!==t.Firstname.toLowerCase().indexOf(e.state.keyword)}))),t)var a=t.map((function(t,a){return Object(c.jsxs)("div",{className:"contact add-new-member",style:{backgroundColor:e.state.currentColor},onClick:function(){return e.addMember(t.Username)},"data-dismiss":"modal",children:[Object(c.jsx)("img",{src:"data:image/*;base64,"+t.Avatar.data,className:"img-responsive avatar",onError:e.loadDefaultImage,alt:"img"}),Object(c.jsxs)("div",{children:[Object(c.jsx)("span",{className:"username-receiver",children:t.Username}),Object(c.jsx)("span",{className:"fullname-receiver grey-text",children:t.Firstname+" "+t.Lastname})]})]},t.Username)}));return Object(c.jsx)("div",{children:Object(c.jsx)("div",{className:"modal fade",id:"ModalAddNewMember",tabIndex:"-1","data-backdrop":"static",role:"dialog","aria-labelledby":"myModalLabel","aria-hidden":"true",children:Object(c.jsx)("div",{className:"modal-dialog",role:"document",children:Object(c.jsxs)("div",{className:"modal-content",children:[Object(c.jsxs)("div",{className:"modal-header text-center",children:[Object(c.jsx)("h4",{className:"modal-title w-100 font-weight-bold",children:"Add new member"}),Object(c.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(c.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(c.jsxs)("div",{className:"modal-body  ",children:[Object(c.jsx)("div",{className:"md-form ",children:Object(c.jsx)("input",{className:"form-control",type:"text",name:"keyword",defaultValue:this.state.keyword,onChange:this.onSearch,placeholder:"Search","aria-label":"Search"})}),Object(c.jsx)("span",{className:"txt-side-bar ml-0",children:"PEOPLE"}),Object(c.jsx)("div",{className:"result-search ml-1 mb-3",children:a})]}),Object(c.jsx)("span",{className:"text-center",children:this.state.notification}),Object(c.jsx)("div",{className:"modal-footer d-flex justify-content-center",children:Object(c.jsx)("button",{className:"btn ",id:"btnClose",onClick:this.close,"data-dismiss":"modal",children:"Cancel"})})]})})})})}}]),a}(i.Component)),T=function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e))._isMounted=!1,n.getListContact=function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.j)([n.props.username,t]).then((function(e){n._isMounted&&n.setState({listContact:e})})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.getInfoRoom=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.i)(n.props.infoGroup.ID_Room).then((function(e){n._isMounted&&n.setState({group:e[0]})}));case 2:case"end":return e.stop()}}),e)}))),n.getListMembers=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.l)(n.props.infoGroup.ID_Room).then((function(e){n._isMounted&&n.setState({members:e})}));case 2:case"end":return e.stop()}}),e)}))),n.isFriend=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="",e.next=3,Object(y.f)(n.props.username,n.props.showInfo.Username).then((function(e){"Not friend"===e.result&&(t=!1),"Already friend"===e.result&&(t=!0),n._isMounted&&n.setState({isFriend:t})}));case 3:case"end":return e.stop()}}),e)}))),n.loadDefaultImage=function(e){n.props.showInfo?e.target.src=p.a:e.target.src=C},n.resizeFile=function(e){return new Promise((function(t){I.a.imageFileResizer(e,150,150,"JPEG",100,0,(function(e){t(e)}),"base64")}))},n.onChangeFile=function(){var e=Object(m.a)(u.a.mark((function e(t){var a,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.files[0],s=n.resizeFile(a),e.next=4,s.then((function(e){var t=e.slice(e.indexOf(",")+1);n.setState({avaGr:t}),n.updateRoom()}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.updateRoom=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.u)(n.props.infoGroup.ID_Room,n.state.avaGr).then((function(e){"Updated"===e.results&&(n.socket=D()("https://shrouded-castle-36016.herokuapp.com/"),n.socket.emit("updateroom",{id:n.props.infoGroup.ID_Room,user:n.props.username}))}));case 2:case"end":return e.stop()}}),e)}))),n.state={isFriend:"",members:[],avaGr:"",listContact:"",group:n.props.infoGroup?n.props.infoGroup:""},n.socket=null,n}return Object(n.a)(a,[{key:"componentDidMount",value:function(){this._isMounted=!0,this.props.showInfo?this.isFriend():(this.getListMembers(),this.getInfoRoom(),this.getListContact(""))}},{key:"componentWillReceiveProps",value:function(e){e&&(this.props.showInfo?this.isFriend():(this.getListMembers(),this.getInfoRoom(),this.getListContact("")))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"randomID",value:function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}},{key:"generateID",value:function(){return this.randomID()+this.randomID()+"-"+this.randomID()}},{key:"render",value:function(){var e=this,t=this.props,a=t.showInfo,s=t.infoGroup,n=this.state.members;if(null!==s&&null===a)var r=n.map((function(t,a){return Object(c.jsxs)("div",{className:"info-member",children:[Object(c.jsx)("img",{src:"data:image/*;base64,"+t.Avatar.data,className:"img-responsive avatar",alt:"img",onError:e.loadDefaultImage}),Object(c.jsx)("div",{children:Object(c.jsx)("span",{className:"name-receiver",children:""===t.Firstname&&""===t.Lastname?t.Username:t.Firstname+" "+t.Lastname})})]},t.Username)}));if(null!==a){var o=this.state.isFriend;return Object(c.jsxs)("div",{className:"card show-info",children:[Object(c.jsx)("h5",{className:"card-header info-color blue-gradient white-text text-center py-4",children:Object(c.jsxs)("div",{children:[Object(c.jsx)("img",{src:"data:image/jpg;base64,"+a.Avatar.data,alt:"avatar",className:"rounded-circle img-responsive modal-title",onError:this.loadDefaultImage,id:"avaReceiver"}),Object(c.jsx)("span",{className:"name-receiver",children:Object(c.jsx)("h5",{children:Object(c.jsx)("strong",{children:""===a.Firstname&&""===a.Lastname?a.Username:a.Firstname+" "+a.Lastname})})}),o?Object(c.jsx)("span",{className:"status-activity",children:null!==a.TimeOnline&&null===a.TimeOffline?"Offline":"Online"}):""]})}),Object(c.jsxs)("div",{className:"card-body",children:[Object(c.jsx)("span",{className:"txt-side-bar",children:"INFORMATION"}),Object(c.jsx)("span",{className:"divider"}),Object(c.jsx)("hr",{className:"solid"}),o?Object(c.jsx)("table",{className:"table table-sm text-left",children:Object(c.jsxs)("tbody",{children:[Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:Object(c.jsx)("i",{className:"fas fa-phone-alt "})}),Object(c.jsx)("td",{children:a.Phone})]}),Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:Object(c.jsx)("i",{className:"fas fa-mail-bulk"})}),Object(c.jsx)("td",{children:a.Email})]}),Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:Object(c.jsx)("i",{className:"fas fa-birthday-cake "})}),Object(c.jsx)("td",{children:a.DateOfBirth})]}),Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:Object(c.jsx)("i",{className:"fas fa-home "})}),Object(c.jsx)("td",{children:a.Address})]}),Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:Object(c.jsx)("i",{className:"fas fa-city "})}),Object(c.jsx)("td",{children:a.City})]}),Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:Object(c.jsx)("i",{className:"fas fa-venus-mars "})}),Object(c.jsx)("td",{children:1===a.Gender?"Female":"Male"})]})]})}):Object(c.jsx)("div",{className:"text-center mt-5",children:"Just friends could see this information"})]})]})}if(null!==s)return Object(c.jsxs)("div",{className:"card show-info-member-gr",children:[Object(c.jsx)("h5",{className:"card-header info-color blue-gradient white-text text-center py-4",children:Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{src:"data:image/jpg;base64,"+this.state.group.Avatar.data,alt:"ava",onError:this.loadDefaultImage,className:"rounded-circle img-responsive modal-title avatar-pic-gr mb-0 mt-3",style:""===this.state.group.Avatar.data?{backgroundImage:"url('"+C+"')"}:{backgroundImage:"url('data:image/jpg;base64,"+this.state.group.Avatar.data+"')"},children:Object(c.jsx)("input",{type:"file",style:{display:"none"},onChange:this.onChangeFile})}),Object(c.jsx)("span",{className:"name-receiver",children:Object(c.jsx)("h5",{children:Object(c.jsx)("strong",{children:s.NameRoom})})})]})}),Object(c.jsxs)("div",{className:"card-body show-info-member-gr",children:[Object(c.jsx)("span",{className:"txt-side-bar",children:"LIST MEMBERS"}),Object(c.jsx)("hr",{className:"solid"}),Object(c.jsxs)("div",{className:"add-new-member",onClick:this.addNewMember,"data-toggle":"modal","data-target":"#ModalAddNewMember",children:[Object(c.jsx)("i",{className:"fas fa-plus"})," Add member"]}),Object(c.jsx)(U,{listContact:this.state.listContact,members:this.state.members,id:s.ID_Room,username:this.props.username},this.generateID()),r]})]})}}]),a}(i.Component),A=(a(63),function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={id:""},n}return Object(n.a)(a,[{key:"componentDidMount",value:function(){"image"===this.props.type&&this.setState({id:this.generateID().toString()})}},{key:"randomID",value:function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}},{key:"generateID",value:function(){return this.randomID()+this.randomID()+this.randomID()}},{key:"render",value:function(){return Object(c.jsx)("div",{className:"row message-body",children:Object(c.jsx)("div",{className:"col-sm-12 message-main-sender",children:Object(c.jsxs)("div",{className:"sender",children:[Object(c.jsx)("div",{className:"message-text",children:"image"===this.props.type?Object(c.jsxs)("div",{children:[Object(c.jsx)("span",{style:{width:"50%"},"data-toggle":"modal","data-target":"#Modal".concat(this.state.id),children:Object(c.jsx)("img",{src:"data:image/jpg;base64,"+this.props.message,alt:"imagesend"})}),Object(c.jsx)("div",{className:"modal fade",id:"Modal".concat(this.state.id),tabIndex:"-1","data-backdrop":"static",role:"dialog","aria-labelledby":"myModalLabel","aria-hidden":"true",children:Object(c.jsx)("div",{className:"modal-dialog",role:"document",children:Object(c.jsxs)("div",{className:"modal-content",children:[Object(c.jsx)("div",{className:"modal-header text-center",children:Object(c.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(c.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})}),Object(c.jsx)("div",{className:"modal-body",children:Object(c.jsx)("img",{style:{width:"100%"},src:"data:image/jpg;base64,"+this.props.message,alt:"imagesend"})}),Object(c.jsx)("div",{className:"modal-footer d-flex justify-content-center"})]})})})]}):this.props.message}),Object(c.jsx)("span",{className:"message-time pull-right",children:this.props.time})]})})})}}]),a}(i.Component)),E=function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).loadDefaultImage=function(e){e.target.src=p.a},n.state={id:""},n}return Object(n.a)(a,[{key:"componentDidMount",value:function(){"image"===this.props.type&&this.setState({id:this.generateID().toString()})}},{key:"randomID",value:function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}},{key:"generateID",value:function(){return this.randomID()+this.randomID()}},{key:"render",value:function(){return Object(c.jsx)("div",{className:"row message-body",children:Object(c.jsxs)("div",{className:"col-sm-12 message-main-receiver",children:[Object(c.jsx)("div",{className:"message-avatar",style:{display:"inline"},children:Object(c.jsx)("div",{className:"heading-avatar-icon",style:{display:"inline"},children:Object(c.jsx)("img",{src:"data:image/jpg;base64,"+this.props.image,onError:this.loadDefaultImage,alt:"ava",id:"img-mess"})})}),Object(c.jsxs)("div",{className:"receiver ",children:[Object(c.jsx)("div",{className:"message-text",children:"image"===this.props.type?Object(c.jsxs)("div",{children:[Object(c.jsx)("span",{style:{width:"60%"},"data-toggle":"modal","data-target":"#Modal".concat(this.state.id),children:Object(c.jsx)("img",{src:"data:image/jpg;base64,"+this.props.message,alt:"imagesend"})}),Object(c.jsx)("div",{className:"modal fade",id:"Modal".concat(this.state.id),tabIndex:"-1","data-backdrop":"static",role:"dialog","aria-labelledby":"myModalLabel","aria-hidden":"true",children:Object(c.jsx)("div",{className:"modal-dialog",role:"document",children:Object(c.jsxs)("div",{className:"modal-content",children:[Object(c.jsx)("div",{className:"modal-header text-center",children:Object(c.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(c.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})}),Object(c.jsx)("div",{className:"modal-body",children:Object(c.jsx)("img",{style:{width:"100%"},src:"data:image/jpg;base64,"+this.props.message,alt:"imagesend"})}),Object(c.jsx)("div",{className:"modal-footer d-flex justify-content-center"})]})})})]}):this.props.message}),Object(c.jsx)("span",{className:"message-time pull-right",children:this.props.time})]})]})})}}]),a}(i.Component),H=(a(64),a(37)),_=function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).focusTxtMess=function(){n.txtMessage.current.focus()},n.getChat=function(){Object(y.n)(n.props.id).then((function(e){var t=[];e.forEach((function(e,a){if(e.ID_Sender===n.props.showInfo.Username){var s=[!1,e.Message,e.TimeSend];t.push(s)}else s=[!0,e.Message,e.TimeSend],t.push(s)})),n.setState({messages:t})})).catch((function(e){return console.log(e)}))},n.isFriend=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="",e.next=3,Object(y.f)(n.props.username,n.props.showInfo.Username).then((function(e){"Not friend"===e.result&&(t=!1),"Already friend"===e.result&&(t=!0),n.setState({isFriend:t})}));case 3:case"end":return e.stop()}}),e)}))),n.onSendMessage=function(){var e=n.state.messages;if("image"===n.state.type){var t=[!0,n.state.text,P()(new Date,"yyyy-mm-dd HH:MM:ss"),"image"];e.push(t),n.socket.emit("newMessage",[n.props.id,n.state.text,"image"]),n.txtMessage.current.value="",n.setState({messages:e,text:"",type:""})}""!==n.txtMessage.current.value&&(t=[!0,n.txtMessage.current.value,P()(new Date,"yyyy-mm-dd HH:MM:ss"),"text"],e.push(t),n.socket.emit("newMessage",[n.props.id,n.txtMessage.current.value]),n.txtMessage.current.value="",Object(y.b)([n.props.username,n.props.id,t[1],t[2]]),n.setState({messages:e}))},n.onEnterPress=function(e){"Enter"===e.key&&(e.preventDefault(),n.onSendMessage())},n.closeConvTab=function(){n.props.closeConvTab(n.props.showInfo)},n.loadDefaultImage=function(e){e.target.src=p.a},n.addEmoji=function(e){var t=e.native;n.txtMessage.current.value+=t},n.onUnfriend=function(){n.socket.emit("unfriend",{idroom:n.props.id,user:n.props.username,friend:n.props.showInfo.Username})},n.onAddfriend=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.sendRequest();case 2:case"end":return e.stop()}}),e)}))),n.sendRequest=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.t)(n.props.id,n.props.username,n.props.showInfo.Username,P()(new Date,"yyyy-mm-dd HH:MM:ss")).then((function(e){"Sent friend request"===e.result&&n.setState({isFriend:"",id:"".concat(n.props.username,"-").concat(n.props.showInfo.Username)}),e.idroom_temp&&(n.props.loadHeader(n.props.showInfo.Username),n.props.idroom_temp(e.idroom_temp))}));case 2:case"end":return e.stop()}}),e)}))),n.resizeFile=function(e){return new Promise((function(t){I.a.imageFileResizer(e,250,250,"JPEG",100,0,(function(e){t(e)}),"base64")}))},n._onChange=function(e){var t=e.target.files[0];n.resizeFile(t).then((function(e){var t=e.slice(e.indexOf(",")+1);n.setState({text:t,type:"image"}),n.txtMessage.current.value="(image)"}))},n.onChangeMessage=function(e){var t=e.target.value;n.setState({text:t,type:"text"})},n.state={messages:[],isFriend:"",text:"",type:"",id:""},n.socket=null,n.txtMessage=Object(i.createRef)(),n.inputFile=Object(i.createRef)(),n}return Object(n.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.socket=D()("https://shrouded-castle-36016.herokuapp.com/"),this.socket.emit("joinRoom",this.props.id),this.socket.on("newMessage",(function(t){e.newMessage(t)})),this.getChat(),this.isFriend()}},{key:"componentWillUnmount",value:function(){this.socket.disconnect()}},{key:"componentWillReceiveProps",value:function(e){e&&this.isFriend()}},{key:"componentDidUpdate",value:function(e){this.props!==e&&null!==this.props&&this.isFriend(),this.messagesEnd.scrollIntoView({block:"end",behavior:"smooth"})}},{key:"newMessage",value:function(e){var t=this.state.messages,a=[!1,e[0],P()(new Date,"yyyy-mm-dd HH:MM:ss"),e[1]];t.push(a),this.setState({messages:t})}},{key:"render",value:function(){var e=this,t=this.state,a=t.messages,s=t.isFriend,n=this.props.showInfo,r=a.map((function(e,t){return e[0]?Object(c.jsx)(A,{message:e[1],time:e[2],type:e[3]},t):Object(c.jsx)(E,{message:e[1],time:e[2],type:e[3],image:n.Avatar.data},t)}));return Object(c.jsxs)("div",{className:"conversation",children:[Object(c.jsxs)("div",{className:"row heading no-gutters",children:[Object(c.jsx)("div",{className:"col-xs-2 col-sm-2 col-md-2 col-lg-2 ",children:Object(c.jsx)("div",{className:"heading-avatar",children:Object(c.jsx)("div",{className:"heading-avatar-icon",children:Object(c.jsx)("img",{src:"data:image/jpg;base64,"+n.Avatar.data,alt:"ava",id:"img-header",onError:this.loadDefaultImage})})})}),Object(c.jsx)("div",{className:"col-xs-9 col-sm-9 col-md-9 col-lg-9 ",children:Object(c.jsxs)("div",{className:"heading-name",children:[Object(c.jsx)("a",{className:"heading-name-meta",href:"/#",children:""===n.Firstname?n.Username:n.Firstname}),Object(c.jsx)("span",{className:"heading-online",children:null!==n.Time_Online&&null===n.Time_Offline?"Online":"Offline"})]})}),Object(c.jsxs)("div",{className:"col-xs-1 col-sm-1 col-md-1 col-lg-1 ",children:[Object(c.jsx)("a",{className:"heading-dots dropdown mt-2 ml-4 w-75",type:"button","data-toggle":"dropdown","aria-expanded":"false",href:"/#",children:Object(c.jsx)("i",{className:"fa fa-ellipsis-v fa-2x ","aria-hidden":"true"})}),Object(c.jsxs)("div",{className:"heading-dots dropdown-menu dropdown-menu-right",children:[Object(c.jsx)("a",{className:"dropdown-item",href:"/#",onClick:this.closeConvTab,children:"Close"}),Object(c.jsx)("a",{className:"dropdown-item",href:"/#",onClick:!0===s?this.onUnfriend:""===s?function(e){return e.preventDefault()}:this.onAddfriend,children:!0===s?"Unfriend":""===s?"Not accept":"Add friend"})]})]})]}),Object(c.jsxs)("div",{className:"row message",id:"conversation",children:[Object(c.jsx)("div",{className:"row message-previous",children:Object(c.jsx)("div",{className:"col-sm-12 previous",children:Object(c.jsx)("a",{id:"ankitjain28",name:"20",href:"/#",children:"Show Previous Message!"})})}),r,Object(c.jsx)("div",{ref:function(t){e.messagesEnd=t},style:{float:"left",clear:"both"}})]}),Object(c.jsx)("div",{className:"list-emoji",children:Object(c.jsx)("span",{id:"emoji",className:"width-300 dropdown-menu dropdown-menu-lg-left dropdown-secondary",children:Object(c.jsx)(H.a,{onSelect:this.addEmoji})})}),Object(c.jsxs)("div",{className:"row reply",children:[Object(c.jsx)("div",{className:"col-sm-1 col-xs-1 reply-emojis",children:Object(c.jsx)("i",{className:"fas fa-smile-beam fa-2x","data-toggle":"collapse","data-target":"#emoji"})}),Object(c.jsx)("div",{className:"col-sm-1 col-xs-1 reply-recording",children:Object(c.jsxs)("form",{children:[Object(c.jsx)("label",{htmlFor:"file-upload",children:Object(c.jsx)("i",{className:"fas fa-folder-open fa-2x"})}),Object(c.jsx)("input",{id:"file-upload",accept:"image/*",type:"file",ref:this.inputFile,style:{display:"none"},onChange:this._onChange})]})}),Object(c.jsx)("div",{className:"col-sm-9 col-xs-9 reply-main",children:Object(c.jsx)("textarea",{className:"txtConv form-control",rows:"1",id:"comment",placeholder:"Aa",autoFocus:!0,ref:this.txtMessage,onClick:this.focusTxtMess,onKeyDown:this.onEnterPress,onChange:this.onChangeMessage})}),Object(c.jsx)("div",{className:"col-sm-1 col-xs-1 reply-send",children:Object(c.jsx)("i",{className:"fas fa-paper-plane fa-2x","aria-hidden":"true",onClick:this.onSendMessage})})]})]})}}]),a}(i.Component),q=function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).getChat=function(){Object(y.n)(n.props.id).then((function(e){var t=[];e.forEach((function(e,a){var s=[e.ID_Sender,e.Message,e.TimeSend];t.push(s)})),n.setState({messages:t})})).catch((function(e){return console.log(e)}))},n.getMembers=function(){Object(y.h)(n.props.id).then((function(e){var t=[];e.forEach((function(e,a){t.push(e)})),n.setState({members:t})})).catch((function(e){return console.log(e)}))},n.getInfoRoom=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.i)(n.props.infoGroup.ID_Room).then((function(e){n.setState({group:e[0]})}));case 2:case"end":return e.stop()}}),e)}))),n.onSendMessage=function(){var e=n.state.messages;if("image"===n.state.type){var t=[n.props.username,n.state.text,P()(new Date,"yyyy-mm-dd HH:MM:ss"),"image"];e.push(t),n.socket.emit("newMessage",[n.props.id,n.state.text,n.props.username,"image"]),n.txtMessage.current.value="",n.setState({messages:e,text:"",type:""})}""!==n.txtMessage.current.value&&(t=[n.props.username,n.txtMessage.current.value,P()(new Date,"yyyy-mm-dd HH:MM:ss"),"text"],e.push(t),n.socket.emit("newMessage",[n.props.id,n.txtMessage.current.value,n.props.username]),n.txtMessage.current.value="",Object(y.b)([n.props.username,n.props.id,t[1],t[2]]),n.setState({messages:e}))},n.onEnterPress=function(e){"Enter"===e.key&&(e.preventDefault(),n.onSendMessage())},n.findUsername=function(e){if(e===n.props.username)return-1;var t=n.state.members,a=-2;return t.forEach((function(t,s){t.Username===e&&(a=s)})),a},n.closeConvTab=function(){n.props.closeConvTab(n.props.showInfo)},n.loadDefaultImage=function(e){e.target.src=p.a},n.addEmoji=function(e){var t=e.native;n.txtMessage.current.value+=t},n.leaveGroup=function(){n.socket.emit("leavegroup",{idroom:n.props.id,user:n.props.username,members:n.state.members}),n.props.closeConvTab(n.props.showInfo)},n.resizeFile=function(e){return new Promise((function(t){I.a.imageFileResizer(e,250,250,"JPEG",100,0,(function(e){t(e)}),"base64")}))},n._onChange=function(e){var t=e.target.files[0];n.resizeFile(t).then((function(e){var t=e.slice(e.indexOf(",")+1);n.setState({text:t,type:"image"}),n.txtMessage.current.value="(image)"}))},n.onChangeMessage=function(e){var t=e.target.value;n.setState({text:t,type:"text"})},n.state={messages:[],members:[],group:n.props.infoGroup,text:"",type:""},n.socket=null,n.txtMessage=l.a.createRef(),n.inputFile=l.a.createRef(),n}return Object(n.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.socket=D()("https://shrouded-castle-36016.herokuapp.com/"),this.socket.emit("joinRoom",this.props.id),this.socket.on("newMessage",(function(t){e.newMessage(t)})),this.getChat(),this.getMembers(),this.getInfoRoom()}},{key:"componentWillUnmount",value:function(){this.socket.disconnect()}},{key:"componentDidUpdate",value:function(){this.messagesEnd.scrollIntoView({block:"end",behavior:"smooth"})}},{key:"componentWillReceiveProps",value:function(e){e&&(this.getMembers(),this.getInfoRoom())}},{key:"newMessage",value:function(e){var t=this.state.messages,a=[e[1],e[0],P()(new Date,"yyyy-mm-dd HH:MM:ss"),e[2]];t.push(a),this.setState({messages:t})}},{key:"render",value:function(){var e=this,t=this.state,a=t.messages,s=t.members,n=a.map((function(t,a){var n=e.findUsername(t[0]);return-1===n?Object(c.jsx)(A,{message:t[1],time:t[2],type:t[3]},a):Object(c.jsx)(E,{message:t[1],time:t[2],type:t[3],image:s[n]?s[n].Avatar.data:""},a)}));return Object(c.jsxs)("div",{className:"conversation",children:[Object(c.jsxs)("div",{className:"row heading no-gutters",children:[Object(c.jsx)("div",{className:"col-xs-2 col-sm-2 col-md-2 col-lg-2 ",children:Object(c.jsx)("div",{className:"heading-avatar",children:Object(c.jsx)("div",{className:"heading-avatar-icon",children:Object(c.jsx)("img",{src:"data:image/jpg;base64,"+this.state.group.Avatar.data,alt:"ava",id:"img-header",onError:this.loadDefaultImage})})})}),Object(c.jsx)("div",{className:"col-xs-9 col-sm-9 col-md-9 col-lg-9 ",children:Object(c.jsx)("div",{className:"heading-name",children:Object(c.jsx)("a",{className:"heading-name-meta",href:"/#",children:this.state.group.NameRoom})})}),Object(c.jsxs)("div",{className:"col-xs-1 col-sm-1 col-md-1 col-lg-1 ",children:[Object(c.jsx)("a",{className:"heading-dots dropdown mt-2 ml-4 w-75",type:"button","data-toggle":"dropdown","aria-expanded":"false",href:"/#",children:Object(c.jsx)("i",{className:"fa fa-ellipsis-v fa-2x ","aria-hidden":"true"})}),Object(c.jsxs)("div",{className:"heading-dots dropdown-menu dropdown-menu-right",children:[Object(c.jsx)("a",{className:"dropdown-item",href:"/#",onClick:this.closeConvTab,children:"Close"}),Object(c.jsx)("a",{className:"dropdown-item",href:"/#",onClick:this.leaveGroup,children:"Leave"})]})]})]}),Object(c.jsxs)("div",{className:"row message",id:"conversation",children:[Object(c.jsx)("div",{className:"row message-previous",children:Object(c.jsx)("div",{className:"col-sm-12 previous",children:Object(c.jsx)("a",{id:"ankitjain28",name:"20",href:"/#",children:"Show Previous Message!"})})}),n,Object(c.jsx)("div",{ref:function(t){e.messagesEnd=t},style:{float:"left",clear:"both"}})]}),Object(c.jsx)("div",{className:"list-emoji",children:Object(c.jsx)("span",{id:"emoji",className:"width-300 dropdown-menu dropdown-menu-lg-left dropdown-secondary",children:Object(c.jsx)(H.a,{onSelect:this.addEmoji})})}),Object(c.jsxs)("div",{className:"row reply",children:[Object(c.jsx)("div",{className:"col-sm-1 col-xs-1 reply-emojis",children:Object(c.jsx)("i",{className:"fas fa-smile-beam fa-2x","data-toggle":"collapse","data-target":"#emoji"})}),Object(c.jsx)("div",{className:"col-sm-1 col-xs-1 reply-recording",children:Object(c.jsxs)("form",{children:[Object(c.jsx)("label",{htmlFor:"file-upload",children:Object(c.jsx)("i",{className:"fas fa-folder-open fa-2x"})}),Object(c.jsx)("input",{id:"file-upload",type:"file",ref:this.inputFile,style:{display:"none"},onChange:this._onChange})]})}),Object(c.jsx)("div",{className:"col-sm-9 col-xs-9 reply-main",children:Object(c.jsx)("textarea",{className:"txtConv form-control",rows:"1",id:"comment",placeholder:"Aa",autoFocus:!0,ref:this.txtMessage,onKeyDown:this.onEnterPress,onChange:this.onChangeMessage})}),Object(c.jsx)("div",{className:"col-sm-1 col-xs-1 reply-send",children:Object(c.jsx)("i",{className:"fas fa-paper-plane fa-2x","aria-hidden":"true",onClick:this.onSendMessage})})]})]})}}]),a}(i.Component),J=function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).changeOnReload=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState({onReload:!n.state.onReload});case 2:case"end":return e.stop()}}),e)}))),n.reloadHeader=function(){n.props.reloadHeader()},n.showInfo=function(e){n.setState({showInfo:e,infoGroup:null})},n.infoGroup=function(e){n.setState({infoGroup:e,showInfo:null})},n.closeConvTab=function(){n.setState({showInfo:null,infoGroup:null})},n.idroom_temp=function(e){var t=n.state.showInfo;t.ID_Room=e,n.setState({showInfo:t}),n.changeOnReload()},n.loadHeader=function(e){n.socket.emit("reloadHeader",e)},n.onLoad=function(){n.changeOnReload()},n.state={showInfo:null,infoGroup:null,onReload:!0},n.socket=null,n}return Object(n.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.socket=D()("https://shrouded-castle-36016.herokuapp.com/"),this.socket.emit("joinUser",this.props.username),this.socket.on("onShowNewMessage",(function(t){e.setState({onReload:!e.state.onReload})})),this.socket.on("to-friend-reloadHeader",(function(t){return e.reloadHeader()})),this.socket.on("unfriend",(function(t){var a=e.state.showInfo;null!==a&&a.ID_Room===t.idroom&&(a.ID_Room=t.idroomTemp,e.setState({showInfo:a})),e.changeOnReload()})),this.socket.on("userleavedgr",(function(t){e.changeOnReload()})),this.socket.on("removegroup",(function(t){null!==e.state.infoGroup&&e.state.infoGroup.ID_Room===t.idroom&&e.closeConvTab(),e.changeOnReload()})),this.socket.on("addgroup",(function(t){e.changeOnReload()})),this.socket.on("updateroom",(function(t){e.changeOnReload()}))}},{key:"componentWillReceiveProps",value:function(e){if(e&&e.onReload){if(this.loadHeader(e.onReload),""!==e.onReload&&null!==this.state.showInfo){var t=this.state.showInfo;t.ID_Room="".concat(e.onReload,"-").concat(this.props.username),this.setState({showInfo:t})}this.setState({onReload:!this.state.onReload})}}},{key:"randomID",value:function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}},{key:"generateID",value:function(){return this.randomID()+this.randomID()+"-"+this.randomID()}},{key:"render",value:function(){var e=this.state,t=e.showInfo,a=e.infoGroup,s=e.onReload,n=Object(c.jsxs)("div",{className:"welcome",children:[Object(c.jsx)("div",{className:"text-center mt-5",children:Object(c.jsxs)("h1",{children:["Welcome, ",this.props.username]})}),Object(c.jsx)("div",{className:"text-center mt-2",style:{color:"#1a237e"},children:Object(c.jsx)("h3",{children:"Let's chat together"})}),Object(c.jsx)("div",{className:"img-welcome text-center mt-5"}),Object(c.jsx)("div",{className:"text-center mt-5 grey-text",children:Object(c.jsx)("span",{children:"Search for someone to start chatting with or go to Contacts to see who avaiable"})})]}),r=Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"alt-empty-right-bar"}),Object(c.jsxs)("div",{className:"alt-empty-right-bar-text",children:[Object(c.jsx)("span",{children:"Communicate with your friends "}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),Object(c.jsx)("span",{children:"Everywhere"}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),Object(c.jsx)("span",{children:"Everytime"}),Object(c.jsx)("br",{})]})]});return Object(c.jsx)("div",{children:Object(c.jsxs)("div",{className:"row no-gutters",children:[Object(c.jsx)("div",{className:"col-xs-3 col-sm-3 col-md-3 col-lg-3",children:Object(c.jsx)(G,{showInfo:this.showInfo,infoGroup:this.infoGroup,username:this.props.username,infoUser:this.props.infoUser,onReload:s,loadHeader:this.loadHeader,onLoad:this.onLoad})}),Object(c.jsx)("div",{className:"col-xs-6 col-sm-6 col-md-6 col-lg-6",children:Object(c.jsx)("div",{className:"middle-bar",children:null===t&&null===a?n:null!==a?Object(c.jsx)(q,{infoGroup:a,username:this.props.username,onReload:s,id:a.ID_Room,closeConvTab:this.closeConvTab},this.state.infoGroup.ID_Room):Object(c.jsx)(_,{showInfo:t,id:this.state.showInfo.ID_Room,username:this.props.username,closeConvTab:this.closeConvTab,onReload:s,idroom_temp:this.idroom_temp,isFriend:this.state.isFriend,loadHeader:this.loadHeader},this.state.showInfo.ID_Room)})}),Object(c.jsx)("div",{className:"col-xs-3 col-sm-3 col-md-3 col-lg-3",children:Object(c.jsx)("div",{className:"right-bar ",children:null===t&&null===a?r:Object(c.jsx)(T,{infoGroup:a,username:this.props.username,onReload:s,showInfo:t},this.generateID())})})]})})}}]),a}(i.Component),B=(a(118),function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(n.a)(a,[{key:"render",value:function(){return Object(c.jsxs)("div",{children:[Object(c.jsx)("footer",{className:"page-footer mdb-color black",children:Object(c.jsxs)("div",{className:"footer-copyright text-right py-0.5 mr-5",children:["\xa9 2020 Copyright:",Object(c.jsx)("a",{href:"/#",children:" LetsChat.com"}),Object(c.jsx)("a",{className:"TermOfUser",href:"/#","data-toggle":"modal","data-target":"#modalTermOfUser",children:"  Term of user"}),Object(c.jsx)("a",{className:"Privacy",href:"/#","data-toggle":"modal","data-target":"#modalPrivacy",children:"  Privacy and cookie policy"})]})}),Object(c.jsx)("div",{className:"modal fade",id:"modalTermOfUser",tabIndex:"-1",role:"dialog","aria-labelledby":"modalTermOfUser","aria-hidden":"true",children:Object(c.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-dialog-scrollable",role:"document",children:Object(c.jsxs)("div",{className:"modal-content",children:[Object(c.jsxs)("div",{className:"modal-header blue-gradient",children:[Object(c.jsx)("h5",{className:"modal-title ",id:"modalTermOfUser",children:"Term of user"}),Object(c.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(c.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(c.jsx)("div",{className:"modal-body",children:"Microsoft collects data from you, through our interactions with you and through our products. You provide some of this data directly, and we get some of it by collecting data about your interactions, use, and experiences with our products. The data we collect depends on the context of your interactions with Microsoft and the choices you make, including your privacy settings and the products and features you use. We also obtain data about you from third parties. If you represent an organization, such as a business or school, that utilizes Enterprise and Developer Products from Microsoft, please see the Enterprise and developer products section of this privacy statement to learn how we process your data. If you are an end user of a Microsoft product or a Microsoft account provided by your organization, please see the Products provided by your organization and the Microsoft account sections for more information. You have choices when it comes to the technology you use and the data you share. When we ask you to provide personal data, you can decline. Many of our products require some personal data to provide you with a service. If you choose not to provide data required to provide you with a product or feature, you cannot use that product or feature. Likewise, where we need to collect personal data by law or to enter into or carry out a contract with you, and you do not provide the data, we will not be able to enter into the contract; or if this relates to an existing product you\u2019re using, we may have to suspend or cancel it. We will notify you if this is the case at the time. Where providing the data is optional, and you choose not to share personal data, features like personalization that use such data will not work for you."}),Object(c.jsx)("div",{className:"modal-footer",children:Object(c.jsx)("button",{type:"button",className:"btn btn-secondary morpheus-den-gradient","data-dismiss":"modal",children:"Close"})})]})})}),Object(c.jsx)("div",{className:"modal fade",id:"modalPrivacy",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true",children:Object(c.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-dialog-scrollable",role:"document",children:Object(c.jsxs)("div",{className:"modal-content",children:[Object(c.jsxs)("div",{className:"modal-header blue-gradient",children:[Object(c.jsx)("h5",{className:"modal-title",id:"exampleModalLongTitle",children:"Privacy and cookie policy"}),Object(c.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(c.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(c.jsx)("div",{className:"modal-body",children:'Your Privacy. Your privacy is important to us. Please read the Microsoft Privacy Statement (https://go.microsoft.com/fwlink/?LinkId=521839) (the "Privacy Statement") as it describes the types of data we collect from you and your devices ("Data"), how we use your Data, and the legal bases we have to process your Data. The Privacy Statement also describes how Microsoft uses your content, which is your communications with others; postings submitted by you to Microsoft via the Services; and the files, photos, documents, audio, digital works, livestreams and videos that you upload, store, broadcast or share through the Services ("Your Content"). Where processing is based on consent and to the extent permitted by law, by agreeing to these Terms, you consent to Microsoft\u2019s collection, use and disclosure of Your Content and Data as described in the Privacy Statement. In some cases, we will provide separate notice and request your consent as referenced in the Privacy Statement.'}),Object(c.jsx)("div",{className:"modal-footer",children:Object(c.jsx)("button",{type:"button",className:"btn btn-primary morpheus-den-gradient","data-dismiss":"modal",children:"Close"})})]})})})]})}}]),a}(i.Component)),z=(a(119),function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).getNotifications=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.o)(n.props.username).then((function(e){return n.setState({notifications:e,isOpened:!n.state.isOpened})})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)}))),n.onAccept=function(e,t){Object(y.a)([e,n.props.username,t]),0===t&&n.props.onReload(e),n.getNotifications()},n.onRead=function(){n.state.isOpened?(Object(y.r)(n.props.username),n.getNotifications()):n.setState({isOpened:!0})},n.state={notifications:[],isOpened:!0},n.socket=null,n}return Object(n.a)(a,[{key:"componentDidMount",value:function(){this.getNotifications()}},{key:"componentWillReceiveProps",value:function(e){e&&this.getNotifications()}},{key:"render",value:function(){var e=this,t=this.state.notifications,a=t.map((function(t,a){return 0===t.IsFriend?Object(c.jsx)("div",{children:Object(c.jsxs)("a",{className:"dropdown-item waves-effect waves-light",href:"/#",children:[Object(c.jsxs)("div",{className:"bold-text",children:[t.Firstname," ",t.Lastname]})," has accepted your friend request."]})},a):Object(c.jsx)("div",{children:Object(c.jsxs)("a",{className:"dropdown-item waves-effect waves-light",href:"/#",children:[Object(c.jsxs)("div",{className:"bold-text",children:[t.Firstname," ",t.Lastname]})," send you a friend request.",Object(c.jsxs)("div",{style:{height:"30px"},children:[Object(c.jsx)("span",{onClick:function(){return e.onAccept(t.ID_Sender,0)},className:"btn-noti btn btn-outline-primary",children:"Accept"}),Object(c.jsx)("span",{onClick:function(){return e.onAccept(t.ID_Sender,1)},className:"btn-noti btn btn-primary waves-effect morpheus-den-gradient",children:"Deny"})]})]})},a)}));return Object(c.jsx)("div",{children:Object(c.jsx)("ul",{className:"navbar-nav ml-auto",children:Object(c.jsxs)("li",{className:"nav-item avatar dropdown",children:[Object(c.jsxs)("a",{className:"nav-link dropdown-toggle",onClick:this.onRead,id:"notification-drop","data-toggle":"collapse",href:"#listNotis","aria-expanded":"true",children:[Object(c.jsx)("span",{className:"badge badge-danger ml-2",children:t.length}),Object(c.jsx)("i",{className:"fas fa-bell bell"})]}),Object(c.jsx)("div",{id:"listNotis",className:"width-300 dropdown-menu dropdown-menu-lg-right dropdown-secondary","aria-labelledby":"notification-drop",children:a})]})})})}}]),a}(i.Component)),W=a(65),V=function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onReload=function(e){n.props.onReload(e)},n.state={infoUser:null,reload:!0},n}return Object(n.a)(a,[{key:"componentWillReceiveProps",value:function(e){e&&this.setState({reload:!this.state.reload})}},{key:"render",value:function(){return Object(c.jsx)("div",{children:Object(c.jsxs)("div",{className:"mb-1 navbar navbar-expand-sm navbar-bright lighten-1",children:[Object(c.jsx)("a",{className:"navbar-brand ",href:"window.location.reload()",children:Object(c.jsx)("b",{className:"nameApp",children:"LetsChat"})}),Object(c.jsx)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent-555",children:Object(c.jsxs)("ul",{className:"navbar-nav ml-auto nav-flex-icons ",children:[Object(c.jsx)("li",{className:"nav-item notification mr-3 ",children:Object(c.jsx)(z,{username:this.props.username,reload:this.state.reload,onReload:this.onReload})}),Object(c.jsx)("li",{className:"nav-item avatar dropdown",children:Object(c.jsx)(W.a,{user:this.props.user,userFirstname:this.props.userFirstname,username:this.props.username,infoUser:this.props.infoUser})})]})})]})})}}]),a}(i.Component),Y=function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).reloadHeader=function(){n.setState({reloadHeader:!n.state.reloadHeader})},n.onReload=function(e){n.setState({onReload:e})},n.state={data:[],reloadHeader:!0,onReload:""},n}return Object(n.a)(a,[{key:"render",value:function(){var e=this.state,t=e.data,a=e.reloadHeader,s=e.onReload;return Object(c.jsxs)("div",{className:"wrapper",children:[Object(c.jsx)("header",{className:"Header",children:Object(c.jsx)(V,{user:this.props.user.Avatar,userFirstname:this.props.user.Firstname,username:this.props.user.Username,infoUser:this.props.user,reloadHeader:a,onReload:this.onReload},this.props.user.Username)}),Object(c.jsx)("div",{className:"content",children:Object(c.jsx)(J,{data:t,infoUser:this.props.user,username:this.props.user.Username,reloadHeader:this.reloadHeader,onReload:s})}),Object(c.jsx)("div",{className:"Footer",children:Object(c.jsx)(B,{})})]})}}]),a}(i.Component),K=a(26),Q=a.n(K),X=function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onRegister=function(e){e.preventDefault(),!0===n.checkInput()?n.checkRegister(n.state):n.setState({notification:"Confirm password doesn't match"})},n.checkInput=function(){var e=n.state;return e.pass===e.confirmPass},n.checkRegister=function(e){Object(y.e)(e).then((function(e){n.setState({notification:e.result})})).catch((function(e){return console.log(e)}))},n.onHandleChange=function(e){var t=e.target,a=t.name,s=t.value;n.setState(Object(N.a)({},a,s))},n.state={username:"",pass:"",confirmPass:"",phone:"",notification:"",avatar:{ava:p.a}},n}return Object(n.a)(a,[{key:"render",value:function(){return Object(c.jsx)("div",{children:Object(c.jsxs)("form",{onSubmit:this.onRegister,children:[Object(c.jsx)("input",{type:"text",name:"username",placeholder:"Username",required:"required",value:this.state.username,onChange:this.onHandleChange}),Object(c.jsx)("input",{type:"tel",name:"phone",placeholder:"Phone",required:"required",pattern:"[0]{1}[0-9]{9}",value:this.state.phone,onChange:this.onHandleChange}),Object(c.jsx)("input",{type:"password",name:"pass",placeholder:"Password",required:"required",value:this.state.pass,onChange:this.onHandleChange}),Object(c.jsx)("input",{type:"password",name:"confirmPass",placeholder:"Confirm Password",required:"required",value:this.state.confirmPass,onChange:this.onHandleChange}),Object(c.jsx)("span",{div:"register-notification",style:{color:"red"},children:this.state.notification}),Object(c.jsx)("input",{type:"submit",value:"Register"})]})})}}]),a}(i.Component),Z=function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).focusUser=function(){n.userInput.current.focus()},n.focusPass=function(){n.passInput.current.focus()},n.onLogIn=function(e){if(e&&"logged-in"===e){var t=[n.userInput.current.value,n.passInput.current.value,P()(new Date,"yyyy-mm-dd HH:MM:ss"),"logged-in"];Object(y.p)(t).then((function(e){null!==e?(e.Password="",n.setState({user:e}),Q.a.render(Object(c.jsx)(l.a.StrictMode,{children:Object(c.jsx)(Y,{user:n.state.user})}),document.getElementById("root"))):n.setState({incorrectLogin:!1})}))}else{var a=[n.userInput.current.value,n.passInput.current.value,P()(new Date,"yyyy-mm-dd HH:MM:ss"),"login"];Object(y.p)(a).then((function(e){null!==e?(localStorage.setItem("user",JSON.stringify([a[0],e.Password])),e.Password="",n.setState({user:e}),Q.a.render(Object(c.jsx)(l.a.StrictMode,{children:Object(c.jsx)(Y,{user:n.state.user})}),document.getElementById("root"))):n.setState({incorrectLogin:!1})}))}},n.onEnterPress=function(e){"Enter"===e.key&&(e.preventDefault(),n.onLogIn())},n.onFocus=function(){n.setState({incorrectLogin:!0})},n.state={user:null,incorrectLogin:!0},n.userInput=Object(i.createRef)(),n.passInput=Object(i.createRef)(),n}return Object(n.a)(a,[{key:"componentDidMount",value:function(){if(localStorage&&localStorage.getItem("user")){var e=JSON.parse(localStorage.getItem("user"));this.userInput.current.value=e[0],this.passInput.current.value=e[1],this.onLogIn("logged-in")}}},{key:"render",value:function(){var e=this;return Object(c.jsxs)("div",{style:{marginTop:"300px"},className:"login-reg-panel morpheus-den-gradient",children:[Object(c.jsxs)("div",{className:"login-info-box",children:[Object(c.jsx)("h2",{children:"Have an account?"}),Object(c.jsx)("label",{id:"label-register",htmlFor:"log-reg-show",children:"Login"}),Object(c.jsx)("input",{type:"radio",name:"active-log-panel",id:"log-reg-show"})]}),Object(c.jsxs)("div",{className:"register-info-box",children:[Object(c.jsx)("h2",{children:"Don't have an account?"}),Object(c.jsx)("label",{id:"label-login",htmlFor:"log-login-show",children:"Register"}),Object(c.jsx)("input",{type:"radio",name:"active-log-panel",id:"log-login-show"})]}),Object(c.jsxs)("div",{className:"white-panel",children:[Object(c.jsxs)("div",{className:"login-show",children:[Object(c.jsx)("h2",{children:"LOGIN"}),Object(c.jsx)("input",{type:"text",ref:this.userInput,onClick:this.focusUser,placeholder:"Username"}),Object(c.jsx)("input",{type:"password",ref:this.passInput,onClick:this.focusPass,placeholder:"Password",onKeyDown:this.onEnterPress}),Object(c.jsx)("input",{type:"button",value:"Login",onClick:function(){return e.onLogIn("login")}}),Object(c.jsx)("a",{href:"/#",children:"Forgot password?"}),Object(c.jsx)("p",{className:this.state.incorrectLogin?"incorrect-login hidden-p":"incorrect-login",children:"Username or Password is incorrect"})]}),Object(c.jsxs)("div",{className:"register-show",children:[Object(c.jsx)("h2",{children:"REGISTER"}),Object(c.jsx)(X,{})]})]})]})}}]),a}(i.Component);t.a=Z},39:function(e,t,a){},63:function(e,t,a){},65:function(e,t,a){"use strict";(function(e){var s=a(4),n=a(5),r=a(7),o=a(6),c=a(0),i=a(1),l=a(66),d=a(67),u=a(68),m=a(69),h=a(11),p=function(t){Object(r.a)(i,t);var a=Object(o.a)(i);function i(e){var t;return Object(s.a)(this,i),(t=a.call(this,e)).loadDefaultImage=function(e){e.target.src=h.a},t.newAvatar=function(e){t.setState({Username:e.Username,Firstname:e.Firstname,Lastname:e.Lastname,DateOfBirth:e.DateOfBirth,Phone:e.Phone,Email:e.Email,Address:e.Address,City:e.City,Avatar:e.Avatar,Gender:e.Gender})},t.state={newAvatar:"",Firstname:"",Lastname:"",DateOfBirth:"",Phone:"",Email:"",Address:"",City:"",Avatar:"",Gender:0,Username:""},t}return Object(n.a)(i,[{key:"componentDidMount",value:function(){var e=this.props.infoUser;null!==e&&this.setState({Username:e.Username,Firstname:e.Firstname,Lastname:e.Lastname,DateOfBirth:e.DateOfBirth,Phone:e.Phone,Email:e.Email,Address:e.Address,City:e.City,Avatar:e.Avatar,Gender:e.Gender})}},{key:"randomID",value:function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}},{key:"generateID",value:function(){return this.randomID()+this.randomID()+"-"+this.randomID()}},{key:"render",value:function(){var t=this.state.Firstname;return Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{className:"account",children:[Object(c.jsxs)("a",{className:"nav-link dropdown-toggle",id:"navbarDropdownMenuLink-55","data-toggle":"dropdown","aria-expanded":"false",href:"/#",children:[Object(c.jsx)("img",{src:void 0!==this.state.Avatar.data?"data:image/jpg;base64,"+new e(this.state.Avatar.data).toString("base64"):"data:image/jpg;base64,"+this.state.Avatar,className:"rounded-circle z-depth-0",alt:"ava",id:"avatar",onError:this.loadDefaultImage}),""===t?this.props.username:t]}),Object(c.jsxs)("div",{className:"dropdown-menu dropdown-menu-lg-right dropdown-secondary ","aria-labelledby":"navbarDropdownMenuLink-55 ",children:[Object(c.jsx)("a",{className:"dropdown-item",href:"/#","data-toggle":"modal","data-target":"#modalUpdateProfile",children:"Profile"}),Object(c.jsx)("a",{className:"dropdown-item",href:"/#","data-toggle":"modal","data-target":"#modalChangePass",children:"Change password"}),Object(c.jsx)("a",{className:"dropdown-item",href:"/#","data-toggle":"modal","data-target":"#modalFeedback",children:"Help and Feedback"}),Object(c.jsx)("a",{className:"dropdown-item",href:"/#","data-toggle":"modal","data-target":"#modalConfirmLogout",children:"Logout"})]})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)(d.a,{infoUser:this.state,newAvatar:this.newAvatar},this.generateID()),Object(c.jsx)(u.a,{username:this.props.username},this.generateID()),Object(c.jsx)(l.a,{}),Object(c.jsx)(m.a,{username:this.props.username})]})]})}}]),i}(i.Component);t.a=p}).call(this,a(46).Buffer)},66:function(e,t,a){"use strict";var s=a(4),n=a(5),r=a(7),o=a(6),c=a(0),i=a(1),l=function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(n.a)(a,[{key:"render",value:function(){return Object(c.jsx)("div",{children:Object(c.jsx)("div",{className:"modal fade right",id:"modalFeedback",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true","data-backdrop":"false",children:Object(c.jsx)("div",{className:"modal-dialog modal-full-height modal-right modal-notify modal-info",role:"document",children:Object(c.jsxs)("div",{className:"modal-content",children:[Object(c.jsxs)("div",{className:"modal-header blue-gradient",children:[Object(c.jsx)("p",{className:"heading lead",children:"Feedback request"}),Object(c.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(c.jsx)("span",{"aria-hidden":"true",className:"white-text",children:"\xd7"})})]}),Object(c.jsxs)("div",{className:"modal-body",children:[Object(c.jsxs)("div",{className:"text-center",children:[Object(c.jsx)("i",{className:"far fa-file-alt fa-4x mb-3 animated rotateIn"}),Object(c.jsx)("p",{children:Object(c.jsx)("strong",{children:"Your opinion matters"})}),Object(c.jsxs)("p",{children:["Have some ideas how to improve our product?",Object(c.jsx)("strong",{children:"Give us your feedback."})]})]}),Object(c.jsx)("hr",{}),Object(c.jsx)("p",{className:"text-center",children:Object(c.jsx)("strong",{children:"Your rating"})}),Object(c.jsxs)("div",{className:"form-check mb-4",children:[Object(c.jsx)("input",{className:"form-check-input",name:"group1",type:"radio",id:"radio-179",value:"option1",defaultChecked:!0}),Object(c.jsx)("label",{className:"form-check-label",htmlFor:"radio-179",children:"Very good"})]}),Object(c.jsxs)("div",{className:"form-check mb-4",children:[Object(c.jsx)("input",{className:"form-check-input",name:"group1",type:"radio",id:"radio-279",value:"option2"}),Object(c.jsx)("label",{className:"form-check-label",htmlFor:"radio-279",children:"Good"})]}),Object(c.jsxs)("div",{className:"form-check mb-4",children:[Object(c.jsx)("input",{className:"form-check-input",name:"group1",type:"radio",id:"radio-379",value:"option3"}),Object(c.jsx)("label",{className:"form-check-label",htmlFor:"radio-379",children:"Mediocre"})]}),Object(c.jsxs)("div",{className:"form-check mb-4",children:[Object(c.jsx)("input",{className:"form-check-input",name:"group1",type:"radio",id:"radio-479",value:"option4"}),Object(c.jsx)("label",{className:"form-check-label",htmlFor:"radio-479",children:"Bad"})]}),Object(c.jsxs)("div",{className:"form-check mb-4",children:[Object(c.jsx)("input",{className:"form-check-input",name:"group1",type:"radio",id:"radio-579",value:"option5"}),Object(c.jsx)("label",{className:"form-check-label",htmlFor:"radio-579",children:"Very bad"})]}),Object(c.jsx)("p",{className:"text-center",children:Object(c.jsx)("strong",{children:"What could we improve?"})}),Object(c.jsxs)("div",{className:"md-form",children:[Object(c.jsx)("textarea",{type:"text",id:"form79textarea",className:"md-textarea form-control",rows:"3"}),Object(c.jsx)("label",{htmlFor:"form79textarea",children:"Your message"})]})]}),Object(c.jsxs)("div",{className:"modal-footer justify-content-center",children:[Object(c.jsxs)("a",{type:"button",className:"btn btn-primary waves-effect waves-light morpheus-den-gradient",href:"/#",children:["Send",Object(c.jsx)("i",{className:"fa fa-paper-plane ml-1"})]}),Object(c.jsx)("a",{type:"button",className:"btn btn-outline-primary waves-effect","data-dismiss":"modal",href:"/#",children:"Cancel"})]})]})})})})}}]),a}(i.Component);t.a=l},67:function(e,t,a){"use strict";(function(e){var s=a(2),n=a.n(s),r=a(8),o=a(20),c=a(4),i=a(5),l=a(7),d=a(6),u=a(0),m=a(1),h=a(11),p=a(9),j=a(21),f=a.n(j),b=function(t){Object(l.a)(s,t);var a=Object(d.a)(s);function s(e){var t;return Object(c.a)(this,s),(t=a.call(this,e)).onHandleChange=function(e){var a=e.target,s=a.name,n=a.value;"Gender"===s&&(n="0"===a.value?0:1),t.setState(Object(o.a)({},s,n))},t.updateUserProfile=function(){var e=Object(r.a)(n.a.mark((function e(a){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,Object(p.v)(t.state).then((function(e){t.setState({notification:e.result})})).catch((function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.resizeFile=function(e){return new Promise((function(t){f.a.imageFileResizer(e,150,150,"JPEG",100,0,(function(e){t(e)}),"base64")}))},t._onChange=function(e){var a=e.target.files[0];t.resizeFile(a).then((function(e){var a=e.slice(e.indexOf(",")+1);t.setState({Avatar:a,file:a})}))},t.loadDefaultImage=function(e){e.target.src=h.a},t.close=Object(r.a)(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.props.newAvatar(t.state),e.next=3,t.setState({Firstname:"",Lastname:"",DateOfBirth:"",Phone:"",Email:"",Address:"",City:"",Avatar:{type:"Buffer",data:Array(0)},Gender:0,Username:"",notification:"",file:""});case 3:case"end":return e.stop()}}),e)}))),t.state={Firstname:"",Lastname:"",DateOfBirth:"",Phone:"",Email:"",Address:"",City:"",Avatar:{type:"Buffer",data:Array(0)},Gender:0,Username:"",notification:"",file:"",user:null},t.inputFile=Object(m.createRef)(),t}return Object(i.a)(s,[{key:"componentDidMount",value:function(){var e=this.props.infoUser;null!==e&&this.setState({Username:e.Username,Firstname:e.Firstname,Lastname:e.Lastname,DateOfBirth:e.DateOfBirth,Phone:e.Phone,Email:e.Email,Address:e.Address,City:e.City,Avatar:e.Avatar,Gender:e.Gender})}},{key:"render",value:function(){return Object(u.jsx)("div",{children:Object(u.jsx)("div",{className:"modal fade",id:"modalUpdateProfile",tabIndex:"-1",role:"dialog","data-backdrop":"static","aria-labelledby":"myModalLabel",children:Object(u.jsx)("div",{className:"modal-dialog modal-lg",role:"document",children:Object(u.jsxs)("div",{className:"modal-content",children:[Object(u.jsxs)("div",{className:"modal-header",children:[Object(u.jsxs)("div",{className:"file-field text-center",children:[Object(u.jsx)("div",{className:"mb-1",children:Object(u.jsx)("img",{src:void 0!==this.state.Avatar.data?"data:image/jpg;base64,"+new e(this.state.Avatar.data).toString("base64"):"data:image/jpg;base64,"+this.state.Avatar,alt:"ava",onError:this.loadDefaultImage,className:"rounded-circle img-responsive modal-title avatar-pic"})}),Object(u.jsx)("div",{className:"d-flex justify-content-center",children:Object(u.jsxs)("label",{className:"btn btn-rounded float-center",children:[Object(u.jsx)("input",{type:"file",style:{display:"none"},onChange:this._onChange,ref:this.inputFile}),"Upload Avatar"]})})]}),Object(u.jsx)("button",{type:"button",className:"close",onClick:this.close,"data-dismiss":"modal","aria-label":"Close",children:Object(u.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(u.jsx)("h5",{className:"mt-1 text-center",children:Object(u.jsx)("b",{children:this.state.Username})}),Object(u.jsx)("div",{className:"modal-body mx-3 ",children:Object(u.jsxs)("form",{onSubmit:this.updateUserProfile,children:[Object(u.jsx)("table",{className:"tbl-update-profile mb-5",children:Object(u.jsxs)("tbody",{children:[Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:Object(u.jsxs)("div",{className:"md-form form-sm mb-1",children:[Object(u.jsx)("i",{className:"fas fa-phone-volume prefix grey-text"}),Object(u.jsx)("input",{type:"tel",id:"phone",className:"form-control",pattern:"[0]{1}[0-9]{9}",placeholder:"Phone",name:"Phone",defaultValue:this.state.Phone,onChange:this.onHandleChange,required:"required"})]})}),Object(u.jsx)("td",{children:Object(u.jsxs)("div",{className:"md-form form-sm mb-1",children:[Object(u.jsx)("i",{className:"fas fa-envelope prefix grey-text"}),Object(u.jsx)("input",{type:"text",id:"email",className:"form-control",placeholder:"Email","data-error":"wrong","data-success":"right",name:"Email",defaultValue:this.state.Email,onChange:this.onHandleChange,required:"required"})]})})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:Object(u.jsxs)("div",{className:"md-form form-sm mb-1",children:[Object(u.jsx)("i",{className:"fas fa-signature prefix grey-text"}),Object(u.jsx)("input",{type:"text",id:"firstname",className:"form-control",placeholder:"Firstname",name:"Firstname",defaultValue:this.state.Firstname,onChange:this.onHandleChange,required:"required"})]})}),Object(u.jsx)("td",{children:Object(u.jsxs)("div",{className:"md-form form-sm mb-1",children:[Object(u.jsx)("i",{className:"fas fa-signature prefix grey-text"}),Object(u.jsx)("input",{type:"text",id:"lastname",className:"form-control",placeholder:"Lastname",name:"Lastname",defaultValue:this.state.Lastname,onChange:this.onHandleChange,required:"required"})]})})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:Object(u.jsxs)("div",{className:"md-form form-sm mb-1",children:[Object(u.jsx)("i",{className:"fas fa-birthday-cake prefix grey-text"}),Object(u.jsx)("input",{type:"date",id:"dateofbirth",className:"form-control grey-text ",name:"DateOfBirth",defaultValue:this.state.DateOfBirth,onChange:this.onHandleChange,required:"required"})]})}),Object(u.jsx)("td",{children:Object(u.jsxs)("div",{className:"md-form form-sm mb-1",children:[Object(u.jsx)("i",{className:"fas fa-map-marker-alt prefix grey-text"}),Object(u.jsx)("input",{type:"text",id:"address",className:"form-control",placeholder:"Address",name:"Address",defaultValue:this.state.Address,onChange:this.onHandleChange,required:"required"})]})})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:Object(u.jsxs)("div",{className:"md-form form-sm mb-1",children:[Object(u.jsx)("i",{className:"fas fa-building prefix grey-text"}),Object(u.jsx)("input",{type:"text",id:"city",className:"form-control",placeholder:"City",name:"City",defaultValue:this.state.City,onChange:this.onHandleChange,required:"required"})]})}),Object(u.jsx)("td",{children:Object(u.jsx)("div",{className:"md-form form-sm mb-1",children:Object(u.jsxs)("span",{className:"radio-gender",children:[Object(u.jsx)("input",{type:"radio",name:"Gender",defaultValue:0,checked:0===this.state.Gender,onChange:this.onHandleChange}),"\xa0Male \xa0\xa0\xa0",Object(u.jsx)("input",{type:"radio",name:"Gender",defaultValue:1,checked:1===this.state.Gender,onChange:this.onHandleChange}),"\xa0Female"]})})})]})]})}),Object(u.jsx)("div",{className:"modal-footer d-flex justify-content-center",children:Object(u.jsx)("span",{className:"update-profile-notification",children:this.state.notification})}),Object(u.jsxs)("div",{className:"modal-footer d-flex justify-content-center",children:[Object(u.jsx)("input",{type:"submit",value:"Update",id:"updateProf",className:"btn btn-primary morpheus-den-gradient"}),Object(u.jsx)("button",{className:"btn","data-dismiss":"modal",onClick:this.close,children:"Cancel"})]})]})})]})})})})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.infoUser!==t.infoUser&&null!==e.infoUser?{infoUser:e.infoUser}:null}}]),s}(m.Component);t.a=b}).call(this,a(46).Buffer)},68:function(e,t,a){"use strict";var s=a(2),n=a.n(s),r=a(8),o=a(4),c=a(5),i=a(7),l=a(6),d=a(0),u=a(1),m=a(9),h=function(e){Object(i.a)(a,e);var t=Object(l.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).changePass=function(){var e=Object(r.a)(n.a.mark((function e(t){var a,r,o;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=s.oldpass.current.value,r=s.newpass.current.value,o=s.confpass.current.value,r!==o){e.next=15;break}if(a!==r){e.next=10;break}return e.next=8,s.setState({notification:"Old password and New password cannot be same"});case 8:e.next=13;break;case 10:return e.next=12,Object(m.d)(a,r,s.props.username).then((function(e){s.setState({notification:e.result})})).catch((function(e){return console.log(e)}));case 12:"Change password successfully!"===s.state.notification&&(s.oldpass.current.value=null,s.newpass.current.value=null,s.confpass.current.value=null);case 13:e.next=17;break;case 15:return e.next=17,s.setState({notification:"Confirm password doesn't match"});case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.close=function(){s.oldpass.current.value=null,s.newpass.current.value=null,s.confpass.current.value=null,s.setState({notification:""})},s.state={notification:"",username:""},s.oldpass=Object(u.createRef)(),s.newpass=Object(u.createRef)(),s.confpass=Object(u.createRef)(),s}return Object(c.a)(a,[{key:"render",value:function(){return Object(d.jsx)("div",{children:Object(d.jsx)("div",{className:"modal fade",id:"modalChangePass",tabIndex:"-1",role:"dialog","data-backdrop":"static","aria-labelledby":"myModalLabel","aria-hidden":"true",children:Object(d.jsx)("div",{className:"modal-dialog",role:"document",children:Object(d.jsxs)("div",{className:"modal-content",children:[Object(d.jsxs)("div",{className:"modal-header text-center",children:[Object(d.jsx)("i",{className:"fas fa-lock prefix grey-text"}),Object(d.jsx)("h4",{className:"modal-title w-100 font-weight-bold",children:"Change password"}),Object(d.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(d.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(d.jsx)("div",{className:"modal-body mx-3",children:Object(d.jsxs)("form",{onSubmit:this.changePass,children:[Object(d.jsx)("div",{className:"md-form mb-5",children:Object(d.jsx)("input",{type:"password",id:"orangeForm-oldPass",name:"oldPass",ref:this.oldpass,placeholder:"Old password",required:"required",className:"form-control"})}),Object(d.jsx)("div",{className:"md-form mb-5",children:Object(d.jsx)("input",{type:"password",id:"orangeForm-newPass",ref:this.newpass,name:"newPass",required:"required",placeholder:"New password",className:"form-control"})}),Object(d.jsx)("div",{className:"md-form mb-4",children:Object(d.jsx)("input",{type:"password",id:"orangeForm-confirmPass",ref:this.confpass,name:"confirmPass",required:"required",placeholder:"Confirm new password",className:"form-control"})}),Object(d.jsx)("div",{className:"modal-footer d-flex justify-content-center",children:Object(d.jsx)("span",{className:"change-pass-notification",children:this.state.notification})}),Object(d.jsxs)("div",{className:"modal-footer d-flex justify-content-center",children:[Object(d.jsx)("input",{className:"btn btn-unique",type:"submit",value:"Save"}),Object(d.jsx)("button",{className:"btn","data-dismiss":"modal",onClick:this.close,children:"Cancel"})]})]})})]})})})})}}]),a}(u.Component);t.a=h},69:function(e,t,a){"use strict";var s=a(4),n=a(5),r=a(7),o=a(6),c=a(0),i=a(1),l=a.n(i),d=a(26),u=a.n(d),m=a(36),h=a(9),p=a(17),j=a.n(p),f=function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onLogOut=function(t){Object(h.q)([e.props.username,j()(new Date,"yyyy-mm-dd HH:MM:ss")]),localStorage.removeItem("user"),e.componentWillUnmount(),t.preventDefault(),u.a.render(Object(c.jsx)(l.a.StrictMode,{children:Object(c.jsx)(m.a,{})}),document.getElementById("root"))},e}return Object(n.a)(a,[{key:"render",value:function(){return Object(c.jsx)("div",{children:Object(c.jsx)("div",{className:"modal fade",id:"modalConfirmLogout",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(c.jsx)("div",{className:"modal-dialog modal-sm modal-notify modal-primary ",role:"document",children:Object(c.jsxs)("div",{className:"modal-content text-center",children:[Object(c.jsx)("div",{className:"modal-header flex-center justify-content-center blue-gradient",children:Object(c.jsx)("h3",{children:"Are you sure?"})}),Object(c.jsx)("div",{className:"modal-body",children:Object(c.jsx)("i",{className:"fas fa-sign-out-alt fa-4x animated rotateIn logoutIcon"})}),Object(c.jsxs)("div",{className:"modal-footer flex-center",children:[Object(c.jsx)("a",{href:"/",className:"btn  btn-outline-primary",onClick:this.onLogOut,children:"Yes"}),Object(c.jsx)("a",{href:"/#",type:"button",className:"btn  btn-primary waves-effect morpheus-den-gradient","data-dismiss":"modal",children:"No"})]})]})})})})}}]),a}(i.Component);t.a=f},75:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){},9:function(e,t,a){"use strict";a.d(t,"j",(function(){return o})),a.d(t,"m",(function(){return i})),a.d(t,"k",(function(){return d})),a.d(t,"h",(function(){return m})),a.d(t,"e",(function(){return p})),a.d(t,"p",(function(){return f})),a.d(t,"n",(function(){return x})),a.d(t,"b",(function(){return v})),a.d(t,"v",(function(){return y})),a.d(t,"d",(function(){return w})),a.d(t,"s",(function(){return C})),a.d(t,"f",(function(){return I})),a.d(t,"t",(function(){return D})),a.d(t,"g",(function(){return F})),a.d(t,"u",(function(){return R})),a.d(t,"i",(function(){return U})),a.d(t,"c",(function(){return A})),a.d(t,"l",(function(){return H})),a.d(t,"o",(function(){return q})),a.d(t,"a",(function(){return B})),a.d(t,"r",(function(){return W})),a.d(t,"q",(function(){return Y}));var s=a(2),n=a.n(s),r=a(8);function o(e){return c.apply(this,arguments)}function c(){return(c=Object(r.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://shrouded-castle-36016.herokuapp.com/api/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:t})});case 2:return a=e.sent,e.next=5,a.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function i(e){return l.apply(this,arguments)}function l(){return(l=Object(r.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://shrouded-castle-36016.herokuapp.com/api/listMessages",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:t})});case 2:return a=e.sent,e.next=5,a.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return u.apply(this,arguments)}function u(){return(u=Object(r.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://shrouded-castle-36016.herokuapp.com/api/listGroup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:t})});case 2:return a=e.sent,e.next=5,a.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return h.apply(this,arguments)}function h(){return(h=Object(r.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://shrouded-castle-36016.herokuapp.com/api/listGroup/info",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({info:t})});case 2:return a=e.sent,e.next=5,a.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return j.apply(this,arguments)}function j(){return(j=Object(r.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://shrouded-castle-36016.herokuapp.com/api/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:t})});case 2:return a=e.sent,e.next=5,a.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return b.apply(this,arguments)}function b(){return(b=Object(r.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://shrouded-castle-36016.herokuapp.com/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t[0],password:t[1],timeOnline:t[2],check:t[3]})});case 2:return a=e.sent,e.next=5,a.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){return O.apply(this,arguments)}function O(){return(O=Object(r.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://shrouded-castle-36016.herokuapp.com/api/messages",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({idRoom:t})});case 2:return a=e.sent,e.next=5,a.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return g.apply(this,arguments)}function g(){return(g=Object(r.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://shrouded-castle-36016.herokuapp.com/api/messages/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t[0],idRoom:t[1],message:t[2],time:t[3]})});case 2:return a=e.sent,e.next=5,a.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return N.apply(this,arguments)}function N(){return(N=Object(r.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://shrouded-castle-36016.herokuapp.com/api/user/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:t})});case 2:return a=e.sent,e.next=5,a.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e,t,a){return k.apply(this,arguments)}function k(){return(k=Object(r.a)(n.a.mark((function e(t,a,s){var r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://shrouded-castle-36016.herokuapp.com/api/user/updatePass",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({oldpass:t,newpass:a,username:s})});case 2:return r=e.sent,e.next=5,r.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e){return S.apply(this,arguments)}function S(){return(S=Object(r.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://shrouded-castle-36016.herokuapp.com/api/user/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:t})});case 2:return a=e.sent,e.next=5,a.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e,t){return M.apply(this,arguments)}function M(){return(M=Object(r.a)(n.a.mark((function e(t,a){var s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://shrouded-castle-36016.herokuapp.com/api/friend",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user1:t,user2:a})});case 2:return s=e.sent,e.next=5,s.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e,t,a,s){return L.apply(this,arguments)}function L(){return(L=Object(r.a)(n.a.mark((function e(t,a,s,r){var o;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://shrouded-castle-36016.herokuapp.com/api/friend/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t,sender:a,receiver:s,time:r})});case 2:return o=e.sent,e.next=5,o.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e,t,a){return P.apply(this,arguments)}function P(){return(P=Object(r.a)(n.a.mark((function e(t,a,s){var r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://shrouded-castle-36016.herokuapp.com/api/chatroom/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t,name:a,avatar:s})});case 2:return r=e.sent,e.next=5,r.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e,t){return G.apply(this,arguments)}function G(){return(G=Object(r.a)(n.a.mark((function e(t,a){var s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://shrouded-castle-36016.herokuapp.com/api/chatroom/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t,avatar:a})});case 2:return s=e.sent,e.next=5,s.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e){return T.apply(this,arguments)}function T(){return(T=Object(r.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://shrouded-castle-36016.herokuapp.com/api/chatroom",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t})});case 2:return a=e.sent,e.next=5,a.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e,t,a){return E.apply(this,arguments)}function E(){return(E=Object(r.a)(n.a.mark((function e(t,a,s){var r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://shrouded-castle-36016.herokuapp.com/api/participants/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t,id_room:a,list:s})});case 2:return r=e.sent,e.next=5,r.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(e){return _.apply(this,arguments)}function _(){return(_=Object(r.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://shrouded-castle-36016.herokuapp.com/api/participants",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({idRoom:t})});case 2:return a=e.sent,e.next=5,a.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(e){return J.apply(this,arguments)}function J(){return(J=Object(r.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://shrouded-castle-36016.herokuapp.com/api/notifications",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t})});case 2:return a=e.sent,e.next=5,a.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e){return z.apply(this,arguments)}function z(){return(z=Object(r.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://shrouded-castle-36016.herokuapp.com/api/friend/accept",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:t})});case 2:return a=e.sent,e.next=5,a.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(e){return V.apply(this,arguments)}function V(){return(V=Object(r.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://shrouded-castle-36016.herokuapp.com/api/notifications/read",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t})});case 2:return a=e.sent,e.next=5,a.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(e){return K.apply(this,arguments)}function K(){return(K=Object(r.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://shrouded-castle-36016.herokuapp.com/api/login/logout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t[0],time:t[1]})});case 2:return a=e.sent,e.next=5,a.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}},[[120,1,2]]]);
//# sourceMappingURL=main.77b900e7.chunk.js.map